"use strict";angular.module("picardy.fontawesome",[]).directive("fa",function(){return{restrict:"E",template:'<span class="fa" aria-hidden="true"></span>',replace:!0,link:function(e,t,a){function s(e,s){var n;a.$observe(e,function(){s=s||"fa-"+e,t.removeClass(o[e]),a[e]&&(n=[s,a[e]].join("-"),t.addClass(n),o[e]=n)})}function n(e,s){var n;a.$observe(e,function(){s=s||"fa-"+e,n=e in a&&"false"!==a[e]&&a[e]!==!1,t.toggleClass(s,n)})}var o={};s("name","fa"),s("rotate"),s("flip"),s("stack"),a.$observe("size",function(){var e;t.removeClass(o.size),"large"===a.size?e="fa-lg":isNaN(parseInt(a.size,10))||(e="fa-"+a.size+"x"),t.addClass(e),o.size=e}),a.$observe("stack",function(){var e;t.removeClass(o.stack),"large"===a.stack?e="fa-stack-lg":isNaN(parseInt(a.stack,10))||(e="fa-stack-"+a.stack+"x"),t.addClass(e),o.stack=e}),n("border"),n("fw"),n("inverse"),n("spin"),t.toggleClass("fa-li",t.parent()&&"LI"===t.parent().prop("tagName")&&t.parent().parent()&&t.parent().parent().hasClass("fa-ul")&&t.parent().children()[0]===t[0]&&"false"!==a.list&&a.list!==!1),a.$observe("alt",function(){var e=a.alt,s=t.next(),n="fa-alt-text";e?(t.removeAttr("alt"),s&&s.hasClass(n)||(t.after('<span class="sr-only fa-alt-text"></span>'),s=t.next()),s.text(e)):s&&s.hasClass(n)&&s.remove()})}}}).directive("faStack",function(){return{restrict:"E",transclude:!0,template:'<span ng-transclude class="fa-stack fa-lg"></span>',replace:!0,link:function(e,t,a){function s(e,s){var o;a.$observe(e,function(){s=s||"fa-"+e,t.removeClass(n[e]),a[e]&&(o=[s,a[e]].join("-"),t.addClass(o),n[e]=o)})}var n={};s("size"),a.$observe("size",function(){var e;t.removeClass(n.size),"large"===a.size?e="fa-lg":isNaN(parseInt(a.size,10))||(e="fa-"+a.size+"x"),t.addClass(e),n.size=e})}}}),/*!
 * ngToast v1.5.6 (http://tameraydin.github.io/ngToast)
 * Copyright 2015 Tamer Aydin (http://tamerayd.in)
 * Licensed under MIT (http://tameraydin.mit-license.org/)
 */
!function(e,t,a){t.module("ngToast.provider",[]).provider("ngToast",[function(){function e(e){for(var s=Math.floor(1e3*Math.random());a.indexOf(s)>-1;)s=Math.floor(1e3*Math.random());this.id=s,this.count=0,this.animation=n.animation,this.className=n.className,this.additionalClasses=n.additionalClasses,this.dismissOnTimeout=n.dismissOnTimeout,this.timeout=n.timeout,this.dismissButton=n.dismissButton,this.dismissButtonHtml=n.dismissButtonHtml,this.dismissOnClick=n.dismissOnClick,this.compileContent=n.compileContent,t.extend(this,e)}var a=[],s=[],n={animation:!1,className:"success",additionalClasses:null,dismissOnTimeout:!0,timeout:4e3,dismissButton:!1,dismissButtonHtml:"&times;",dismissOnClick:!0,compileContent:!1,combineDuplications:!1,horizontalPosition:"right",verticalPosition:"top",maxNumber:0};this.configure=function(e){t.extend(n,e)},this.$get=[function(){var t=function(e,t){return t="object"==typeof t?t:{content:t},t.className=e,this.create(t)};return{settings:n,messages:a,dismiss:function(e){if(e){for(var t=a.length-1;t>=0;t--)if(a[t].id===e)return a.splice(t,1),void s.splice(s.indexOf(e),1)}else{for(;a.length>0;)a.pop();s=[]}},create:function(t){if(t="object"==typeof t?t:{content:t},n.combineDuplications)for(var o=s.length-1;o>=0;o--){var i=a[o],l=t.className||"success";if(i.content===t.content&&i.className===l)return void a[o].count++}n.maxNumber>0&&s.length>=n.maxNumber&&this.dismiss(s[0]);var r=new e(t);return"bottom"===n.verticalPosition?a.unshift(r):a.push(r),s.push(r.id),r.id},success:function(e){return t.call(this,"success",e)},info:function(e){return t.call(this,"info",e)},warning:function(e){return t.call(this,"warning",e)},danger:function(e){return t.call(this,"danger",e)}}}]}])}(window,window.angular),function(e,t){t.module("ngToast.directives",["ngToast.provider"]).run(["$templateCache",function(e){e.put("ngToast/toast.html",'<div class="ng-toast ng-toast--{{hPos}} ng-toast--{{vPos}} {{animation ? \'ng-toast--animate-\' + animation : \'\'}}"><ul class="ng-toast__list"><toast-message ng-repeat="message in messages" message="message" count="message.count"><span ng-bind-html="message.content"></span></toast-message></ul></div>'),e.put("ngToast/toastMessage.html",'<li class="ng-toast__message {{message.additionalClasses}}"ng-mouseenter="onMouseEnter()"ng-mouseleave="onMouseLeave()"><div class="alert alert-{{message.className}}" ng-class="{\'alert-dismissible\': message.dismissButton}"><button type="button" class="close" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"></button><span ng-if="count" class="ng-toast__message__count">{{count + 1}}</span><span ng-if="!message.compileContent" ng-transclude></span></div></li>')}]).directive("toast",["ngToast","$templateCache","$log",function(e,t,a){return{replace:!0,restrict:"EA",templateUrl:"ngToast/toast.html",compile:function(s,n){if(n.template){var o=t.get(n.template);o?s.replaceWith(o):a.warn("ngToast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.")}return function(t){t.hPos=e.settings.horizontalPosition,t.vPos=e.settings.verticalPosition,t.animation=e.settings.animation,t.messages=e.messages}}}}]).directive("toastMessage",["$timeout","$compile","ngToast",function(e,t,a){return{replace:!0,transclude:!0,restrict:"EA",scope:{message:"=",count:"="},controller:["$scope","ngToast",function(e,t){e.dismiss=function(){t.dismiss(e.message.id)}}],templateUrl:"ngToast/toastMessage.html",link:function(s,n,o,i,l){n.attr("data-message-id",s.message.id);var r,c=s.message.compileContent;if(s.cancelTimeout=function(){e.cancel(r)},s.startTimeout=function(){s.message.dismissOnTimeout&&(r=e(function(){a.dismiss(s.message.id)},s.message.timeout))},s.onMouseEnter=function(){s.cancelTimeout()},s.onMouseLeave=function(){s.startTimeout()},c){var d;l(s,function(e){d=e,n.children().append(d)}),e(function(){t(d.contents())("boolean"==typeof c?s.$parent:c,function(e){d.replaceWith(e)})},0)}s.startTimeout(),s.message.dismissOnClick&&n.bind("click",function(){a.dismiss(s.message.id),s.$apply()})}}}])}(window,window.angular),function(e,t){t.module("ngToast",["ngSanitize","ngToast.directives","ngToast.provider"])}(window,window.angular),/*!
 * ngToast v1.5.6 (http://tameraydin.github.io/ngToast)
 * Copyright 2015 Tamer Aydin (http://tamerayd.in)
 * Licensed under MIT (http://tameraydin.mit-license.org/)
 */
function(e,t,a){t.module("ngToast.provider",[]).provider("ngToast",[function(){function e(e){for(var s=Math.floor(1e3*Math.random());a.indexOf(s)>-1;)s=Math.floor(1e3*Math.random());this.id=s,this.count=0,this.animation=n.animation,this.className=n.className,this.additionalClasses=n.additionalClasses,this.dismissOnTimeout=n.dismissOnTimeout,this.timeout=n.timeout,this.dismissButton=n.dismissButton,this.dismissButtonHtml=n.dismissButtonHtml,this.dismissOnClick=n.dismissOnClick,this.compileContent=n.compileContent,t.extend(this,e)}var a=[],s=[],n={animation:!1,className:"success",additionalClasses:null,dismissOnTimeout:!0,timeout:4e3,dismissButton:!1,dismissButtonHtml:"&times;",dismissOnClick:!0,compileContent:!1,combineDuplications:!1,horizontalPosition:"right",verticalPosition:"top",maxNumber:0};this.configure=function(e){t.extend(n,e)},this.$get=[function(){var t=function(e,t){return t="object"==typeof t?t:{content:t},t.className=e,this.create(t)};return{settings:n,messages:a,dismiss:function(e){if(e){for(var t=a.length-1;t>=0;t--)if(a[t].id===e)return a.splice(t,1),void s.splice(s.indexOf(e),1)}else{for(;a.length>0;)a.pop();s=[]}},create:function(t){if(t="object"==typeof t?t:{content:t},n.combineDuplications)for(var o=s.length-1;o>=0;o--){var i=a[o],l=t.className||"success";if(i.content===t.content&&i.className===l)return void a[o].count++}n.maxNumber>0&&s.length>=n.maxNumber&&this.dismiss(s[0]);var r=new e(t);return"bottom"===n.verticalPosition?a.unshift(r):a.push(r),s.push(r.id),r.id},success:function(e){return t.call(this,"success",e)},info:function(e){return t.call(this,"info",e)},warning:function(e){return t.call(this,"warning",e)},danger:function(e){return t.call(this,"danger",e)}}}]}])}(window,window.angular),function(e,t){t.module("ngToast.directives",["ngToast.provider"]).run(["$templateCache",function(e){e.put("ngToast/toast.html",'<div class="ng-toast ng-toast--{{hPos}} ng-toast--{{vPos}} {{animation ? \'ng-toast--animate-\' + animation : \'\'}}"><ul class="ng-toast__list"><toast-message ng-repeat="message in messages" message="message" count="message.count"><span ng-bind-html="message.content"></span></toast-message></ul></div>'),e.put("ngToast/toastMessage.html",'<li class="ng-toast__message {{message.additionalClasses}}"ng-mouseenter="onMouseEnter()"ng-mouseleave="onMouseLeave()"><div class="alert alert-{{message.className}}" ng-class="{\'alert-dismissible\': message.dismissButton}"><button type="button" class="close" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"></button><span ng-if="count" class="ng-toast__message__count">{{count + 1}}</span><span ng-if="!message.compileContent" ng-transclude></span></div></li>')}]).directive("toast",["ngToast","$templateCache","$log",function(e,t,a){return{replace:!0,restrict:"EA",templateUrl:"ngToast/toast.html",compile:function(s,n){if(n.template){var o=t.get(n.template);o?s.replaceWith(o):a.warn("ngToast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.")}return function(t){t.hPos=e.settings.horizontalPosition,t.vPos=e.settings.verticalPosition,t.animation=e.settings.animation,t.messages=e.messages}}}}]).directive("toastMessage",["$timeout","$compile","ngToast",function(e,t,a){return{replace:!0,transclude:!0,restrict:"EA",scope:{message:"=",count:"="},controller:["$scope","ngToast",function(e,t){e.dismiss=function(){t.dismiss(e.message.id)}}],templateUrl:"ngToast/toastMessage.html",link:function(s,n,o,i,l){n.attr("data-message-id",s.message.id);var r,c=s.message.compileContent;if(s.cancelTimeout=function(){e.cancel(r)},s.startTimeout=function(){s.message.dismissOnTimeout&&(r=e(function(){a.dismiss(s.message.id)},s.message.timeout))},s.onMouseEnter=function(){s.cancelTimeout()},s.onMouseLeave=function(){s.startTimeout()},c){var d;l(s,function(e){d=e,n.children().append(d)}),e(function(){t(d.contents())("boolean"==typeof c?s.$parent:c,function(e){d.replaceWith(e)})},0)}s.startTimeout(),s.message.dismissOnClick&&n.bind("click",function(){a.dismiss(s.message.id),s.$apply()})}}}])}(window,window.angular),function(e,t){t.module("ngToast",["ngSanitize","ngToast.directives","ngToast.provider"])}(window,window.angular),function(){angular.module("pollyvotes",["ngAnimate","ui.bootstrap","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","smoothScroll","ngToast","picardy.fontawesome","720kb.socialshare","pascalprecht.translate","tmh.dynamicLocale","angular-loading-bar","highcharts-ng"])}(),function(){function e(){function e(){return t}var t=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Bootstrap",url:"http://getbootstrap.com/",description:"Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.",logo:"bootstrap.png"},{title:"Angular UI Bootstrap",url:"http://angular-ui.github.io/bootstrap/",description:"Bootstrap components written in pure AngularJS by the AngularUI Team.",logo:"ui-bootstrap.png"}];this.getTec=e}angular.module("pollyvotes").service("webDevTec",e)}(),/*!
 *	 Angular Smooth Scroll (ngSmoothScroll)
 *	 Animates scrolling to elements, by David Oliveros.
 *
 *   Callback hooks contributed by Ben Armston https://github.com/benarmston
 *	 Easing support contributed by Willem Liu. https://github.com/willemliu
 *	 Easing functions forked from Gaëtan Renaudeau. https://gist.github.com/gre/1650294
 *	 Infinite loop bugs in iOS and Chrome (when zoomed) by Alex Guzman. https://github.com/alexguzman
 *	 Support for scrolling in custom containers by Joseph Matthias Goh. https://github.com/zephinzer
 *	 Influenced by Chris Ferdinandi
 *	 https://github.com/cferdinandi
 *
 *	 Version: 2.0.0
 * 	 License: MIT
 */
function(){var e=angular.module("smoothScroll",[]),t=function(e,t){t=t||{};var a=t.duration||800,s=t.offset||0,n=t.easing||"easeInOutQuart",o=t.callbackBefore||function(){},i=t.callbackAfter||function(){},l=document.getElementById(t.containerId)||null,r=void 0!=l&&null!=l,c=function(){return r?l.scrollTop:window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},d=function(e,t){switch(e){case"easeInQuad":return t*t;case"easeOutQuad":return t*(2-t);case"easeInOutQuad":return.5>t?2*t*t:-1+(4-2*t)*t;case"easeInCubic":return t*t*t;case"easeOutCubic":return--t*t*t+1;case"easeInOutCubic":return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1;case"easeInQuart":return t*t*t*t;case"easeOutQuart":return 1- --t*t*t*t;case"easeInOutQuart":return.5>t?8*t*t*t*t:1-8*--t*t*t*t;case"easeInQuint":return t*t*t*t*t;case"easeOutQuint":return 1+--t*t*t*t*t;case"easeInOutQuint":return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t;default:return t}},p=function(e){var t=0;if(e.offsetParent)do t+=e.offsetTop,e=e.offsetParent;while(e);return t=Math.max(t-s,0)};setTimeout(function(){var t,s,u,m,h=null,g=c(),f=p(e),b=0,v=f-g,y=function(){h=c(),r?(u=l.scrollHeight,m=l.clientHeight+h):(u=document.body.scrollheight,m=window.innerHeight+h),(s==f||h==f||m>=u)&&(clearInterval(w),i(e))},x=function(){b+=16,t=b/a,t=t>1?1:t,s=g+v*d(n,t),r?l.scrollTop=s:window.scrollTo(0,s),y()};o(e);var w=setInterval(x,16)},0)};e.factory("smoothScroll",function(){return t}),e.directive("smoothScroll",["smoothScroll",function(e){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(t,a,s){("undefined"==typeof s.scrollIf||"true"===s.scrollIf)&&setTimeout(function(){var n=function(e){if(s.callbackBefore){var a=t.callbackBefore({element:e});"function"==typeof a&&a(e)}},o=function(e){if(s.callbackAfter){var a=t.callbackAfter({element:e});"function"==typeof a&&a(e)}};e(a[0],{duration:s.duration,offset:s.offset,easing:s.easing,callbackBefore:n,callbackAfter:o,containerId:s.containerId})},0)}}}]),e.directive("scrollTo",["smoothScroll",function(e){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(t,a,s){var n;a.on("click",function(a){if(a.preventDefault(),n=document.getElementById(s.scrollTo)){var o=function(e){if(s.callbackBefore){var a=t.callbackBefore({element:e});"function"==typeof a&&a(e)}},i=function(e){if(s.callbackAfter){var a=t.callbackAfter({element:e});"function"==typeof a&&a(e)}};return e(n,{duration:s.duration,offset:s.offset,easing:s.easing,callbackBefore:o,callbackAfter:i,containerId:s.containerId}),!1}})}}}])}(),function(){function e(){function e(e){var t=this;t.relativeDate=e(t.creationDate).fromNow()}e.$inject=["moment"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("pollyvotes").directive("acmeNavbar",e)}(),function(){function e(e){function t(t,a,s,n){var o,i=e(a[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});a.addClass("acme-malarkey"),angular.forEach(t.extraValues,function(e){i.type(e).pause()["delete"]()}),o=t.$watch("vm.contributors",function(){angular.forEach(n.contributors,function(e){i.type(e.login).pause()["delete"]()})}),t.$on("$destroy",function(){o()})}function a(e,t){function a(){return s().then(function(){e.info("Activated Contributors View")})}function s(){return t.getContributors(10).then(function(e){return n.contributors=e,n.contributors})}var n=this;n.contributors=[],a()}a.$inject=["$log","githubContributor"];var s={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:t,controller:a,controllerAs:"vm"};return s}e.$inject=["malarkey"],angular.module("pollyvotes").directive("acmeMalarkey",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&displaydays=350&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t,{cache:!0})},a}e.$inject=["$http"],angular.module("pollyvotes").service("lineChart",e)}(),function(e){angular.module("angular-c3-simple",[]).service("c3SimpleService",function(){return{}}).directive("c3Simple",["c3SimpleService",function(t){return{restrict:"EA",scope:{config:"="},template:"<div></div>",replace:!0,controller:["$scope","$element",function(a,s){a.config.bindto="#"+s[0].id,a.$watch("config.data.columns",function(s,n){t[a.config.bindto]=e.generate(a.config),a.config.size||t[a.config.bindto].resize()})}]}}])}(c3),function(){function e(e,t){function a(a){function n(e){return e.data}function o(t){e.error("XHR Failed for getContributors.\n"+angular.toJson(t.data,!0))}return a||(a=30),t.get(s+"/contributors?per_page="+a).then(n)["catch"](o)}var s="https://api.github.com/repos/Swiip/generator-gulp-angular",n={apiHost:s,getContributors:a};return n}e.$inject=["$log","$http"],angular.module("pollyvotes").factory("githubContributor",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&level=state&type=markets_combined&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t)},a}e.$inject=["$http"],angular.module("pollyvotes").service("predictionService",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&level=state&type=econ_models_combined&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t)},a}e.$inject=["$http"],angular.module("pollyvotes").service("modelService",e)}(),function(){function globe(mapService,modelService,inpollsService,expertService,predictionService,expecService){function link($scope,element){function makeFeatures(){svg=d3.select("#mapUSA"),features=svg.append("g").attr("class","features").attr("id","features")}function checkVariable(e){if("number"!=toType(e)){var t=e.replace(/[^0-9.]/g,""),a=parseFloat(t);return parseFloat(a.toFixed(1))}return parseFloat(e.toFixed(1))}function checkForNull(e){var t=checkVariable(e);return 1==isNaN(t)?0:t}function cleanStrings(e){return""==e?0:void 0==e?0:"D"==e?"Clinton":"R"==e?"Trump":"T"==e?"Tossup":void 0}function organizeData(e,t,a,s){a.length=0,datacleaned.length=0;for(var n=0;n<t.data.length;n++){t.data[n].state;if(t.data[n].fcdate==s){var o=t.data[n].state,i=t.data[n].fcrepwinfreq,l=t.data[n].fcdemwinfreq,r=t.data[n].fcwinner,c=t.data[n].fcdemvs,d=t.data[n].fcrepvs,s=t.data[n].fcdate,p=t.data[n]._lastupdate;datacleaned.push({iso_2:o,Republican_fre:checkForNull(i),Democrats_fre:checkForNull(l),twoPartyDemo:checkForNull(c),twoPartyRep:checkForNull(d),winner:cleanStrings(r),totalComponents:checkForNull(i)+checkForNull(l),date:s,lastupdate:p})}}datacleaned.slice().map(function(t){for(var s=0,n=e.states.length;n>s;s++)t.iso_2===e.states[s].iso2&&(t.electoral_vote=e.states[s].state_electoralvote,t.name=e.states[s].fullName);a.push(t)});console.log(JSON.stringify(a))}function collectElecVotes(e){repElectoralVote.length=0,demElectoralVote.length=0,neutralVote.length=0;for(var t=0;t<e.length;t++)e[t].Republican_fre>e[t].Democrats_fre?repElectoralVote.push(e[t].electoral_vote):e[t].Republican_fre<e[t].Democrats_fre?demElectoralVote.push(e[t].electoral_vote):e[t].Republican_fre==e[t].Democrats_fre&&e[t].twoPartyDemo>e[t].twoPartyRep?demElectoralVote.push(e[t].electoral_vote):e[t].Republican_fre==e[t].Democrats_fre&&e[t].twoPartyDemo<e[t].twoPartyRep?repElectoralVote.push(e[t].electoral_vote):e[t].Republican_fre==e[t].Democrats_fre&&e[t].twoPartyDemo==e[t].twoPartyRep?neutralVote.push(e[t].electoral_vote):0==e[t].Republican_fre&&0==e[t].Democrats_fre&&0==e[t].twoPartyDemo&&0==e[t].twoPartyRep&&neutralVote.push(e[t].electoral_vote)}function createBars(e,t,a){width=600,height=20;var s=[{data:[{name:"Clinton",value:t}]},{data:[{name:"Neutral",value:a}]},{data:[{name:"Trump",value:e}]}];console.log(JSON.stringify(s));s.map(function(e){return e.name});s=s.map(function(e){return e.data.map(function(e,t){return{x:e.name,y:e.value}})});var n=d3.layout.stack();n(s),s=s.map(function(e){return e.map(function(e){return{x:e.y,y:e.x,x0:e.y0}})});var o=d3.selectAll("#bars, #barsSimple").append("g").attr("class","maing"),i=d3.max(s,function(e){return d3.max(e,function(e){return e.x+e.x0})}),l=d3.scale.linear().domain([0,i]).range([0,900]),r=s[0].map(function(e){return e.y}),c=d3.scale.ordinal().domain(r).rangeRoundBands([0,height]),d=(d3.svg.axis().scale(l).orient("bottom"),d3.svg.axis().scale(c).orient("left"),o.selectAll("g").data(s).enter().append("g").attr("class","bar").style("fill",function(e,t){return console.log(JSON.stringify(e)),"Clinton"==e[0].y?colors[4]:"Neutral"==e[0].y?colors[2]:"Trump"==e[0].y?colors[0]:void 0})),p=(d.selectAll("rect").data(function(e){return e}).enter().append("rect").attr("x",function(e){return l(e.x0)}).attr("y",function(e,t){return c(e.y0)}).attr("height",function(e){return c.rangeBand()}).attr("width",function(e){return l(e.x)}).attr("id",function(e,t){return"bar_"+e.y}).attr("class","bars"),270);o.append("line").attr("class","endLine").attr("x1",function(){return l(p)}).attr("x2",function(){return l(p)}).attr("y1",-2).attr("y2",height+18).attr("stroke-width",3),o.append("text").attr("x",function(){return l(p-87)}).attr("y",height+12).text("270 electoral votes"),d3.select("#trumpText").append("text").text(e).attr("class","tru"),d3.select("#clintonText").append("text").text(t).attr("class","cli")}function makeMap(e,t,a){function s(e){function a(e){return 1==e?e+" predict's":e>1?e+" predict":0==e?"none predict":void 0}var s=mapTooltip.style("display","block");s.style("visibility","visible"),"simpleMap"==className?$("path").mouseenter(function(e){for(var s=$(this).attr("id"),n=0;n<t.length;n++){var o=t[n].twoPartyDemo,i=t[n].twoPartyRep;if(s==t[n].iso_2&&t[n].Democrats_fre>t[n].Republican_fre)return mapTooltip.html("<h3 class='headerMap'>"+t[n].name+"</h3><p class='elecVote'>Electoral votes: <span class='boldText'>"+t[n].electoral_vote+"</span></p><p class='elecVote'>Out of <span >"+a(t[n].totalComponents)+"</span> available component methods, <span>"+a(dataUs[n].Democrats_fre)+"</span> Clinton to win whereas <span>"+a(dataUs[n].Republican_fre)+"</span> Trump.</p><p class='elecVote boldText'>Popular vote forecast:</p><p class='elecVote'>Clinton: "+o+"</p><p class='elecVote'>Trump: "+i+"</p><p class='boldText pollyBot'>Click to learn more about the race in "+t[n].name+".</p>");if(s==t[n].iso_2&&t[n].Democrats_fre<t[n].Republican_fre)return mapTooltip.html("<h3 class='headerMap'>"+t[n].name+"</h3><p class='elecVote'>Electoral votes: <span class='boldText'>"+t[n].electoral_vote+"</span></p><p class='elecVote'>Out of <span >"+a(t[n].totalComponents)+"</span> available component methods, <span>"+a(dataUs[n].Republican_fre)+"</span> Trump to win whereas <span>"+a(dataUs[n].Democrats_fre)+"</span> Clinton.</p><p class='elecVote boldText'>Popular vote forecast:</p><p class='elecVote'>Clinton: "+o+"</p><p class='elecVote'>Trump: "+i+"</p><p class='boldText pollyBot'>Click to learn more about the race in "+t[n].name+".</p>");if(s==t[n].iso_2&&t[n].Democrats_fre==t[n].Republican_fre&&t[n].twoPartyRep>t[n].twoPartyDemo)return mapTooltip.html("<h3 class='headerMap'>"+t[n].name+"</h3><p class='elecVote'>Electoral votes: <span class='boldText'>"+t[n].electoral_vote+"</span></p><p class='elecVote'>Out of <span >"+a(t[n].totalComponents)+"</span> available component methods, <span>"+a(dataUs[n].Republican_fre)+"</span> Trump to win whereas <span>"+a(dataUs[n].Democrats_fre)+"</span> Clinton.</p><p class='elecVote boldText'>Popular vote forecast:</p><p class='elecVote'>Clinton: "+o+"</p><p class='elecVote'>Trump: "+i+"</p><p class='boldText pollyBot'>Click to learn more about the race in "+t[n].name+".</p>");if(s==t[n].iso_2&&t[n].Democrats_fre==t[n].Republican_fre&&t[n].twoPartyRep<t[n].twoPartyDemo)return mapTooltip.html("<h3 class='headerMap'>"+t[n].name+"</h3><p class='elecVote'>Electoral votes: <span class='boldText'>"+t[n].electoral_vote+"</span></p><p class='elecVote'>Out of <span>"+a(t[n].totalComponents)+"</span> available component methods, <span>"+a(dataUs[n].Republican_fre)+"</span> Trump to win whereas <span>"+a(dataUs[n].Democrats_fre)+"</span> Clinton.</p><p class='elecVote boldText'>Popular vote forecast:</p><p class='elecVote'>Clinton: "+o+"</p><p class='elecVote'>Trump: "+i+"</p><p class='boldText pollyBot'>Click to learn more about the race in "+t[n].name+".</p>");if(s==t[n].iso_2&&0==t[n].Democrats_fre&&0==t[n].Republican_fre&&0==t[n].twoPartyRep&&0==t[n].twoPartyDemo)return mapTooltip.html("<h3 class='headerMap'>"+t[n].name+"</h3><p>Sorry No Data available for "+t[n].name+"</p>")}}):"mapmain"==className&&$("path").mouseenter(function(e){for(var s=$(this).attr("id"),n=0;n<t.length;n++){t[n].twoPartyDemo,t[n].twoPartyRep;if(s==t[n].iso_2&&t[n].Democrats_fre>t[n].Republican_fre)return mapTooltip.html("<h3 class='headerMap'>"+t[n].name+"</h3><p class='elecVote'>Electoral votes: <span class='boldText'>"+t[n].electoral_vote+"</span></p><p class='elecVote'>Out of <span >"+a(t[n].totalComponents)+"</span> available component methods, <span>"+a(dataUs[n].Democrats_fre)+"</span> Clinton to win whereas <span>"+a(dataUs[n].Republican_fre)+"</span> Trump.</p><p class='boldText pollyBot'>Click to learn more about the race in "+t[n].name+".</p>");if(s==t[n].iso_2&&t[n].Democrats_fre<t[n].Republican_fre)return mapTooltip.html("<h3 class='headerMap'>"+t[n].name+"</h3><p class='elecVote'>Electoral votes: <span class='boldText'>"+t[n].electoral_vote+"</span></p><p class='elecVote'>Out of <span >"+a(t[n].totalComponents)+"</span> available component methods, <span>"+a(dataUs[n].Republican_fre)+"</span> Trump to win whereas <span>"+a(dataUs[n].Democrats_fre)+"</span> Clinton.</p><p class='boldText pollyBot'>Click to learn more about the race in "+t[n].name+".</p>");if(s==t[n].iso_2&&t[n].Democrats_fre==t[n].Republican_fre)return mapTooltip.html("<h3 class='headerMap'>"+t[n].name+"</h3><p class='elecVote'>Electoral votes: <span class='boldText'>"+t[n].electoral_vote+"</span></p><p class='elecVote'>Out of <span>"+a(t[n].totalComponents)+"</span> available component methods, <span>"+a(dataUs[n].Republican_fre)+"</span> Trump to win whereas <span>"+a(dataUs[n].Democrats_fre)+"</span> Clinton.</p><p class='boldText pollyBot'>Click to learn more about the race in "+t[n].name+".</p>");if(s==t[n].iso_2&&0==t[n].Democrats_fre&&0==t[n].Republican_fre&&0==t[n].twoPartyRep&&0==t[n].twoPartyDemo)return mapTooltip.html("<h3 class='headerMap'>"+t[n].name+"</h3><p>Sorry No Data available for "+t[n].name+"</p>")}})}function n(){mapTooltip.style("top",d3.event.pageY+l.y+"px").style("left",d3.event.pageX+l.x+"px")}function o(){mapTooltip.style("visibility","hidden")}function i(e,t){var a=this.id,s="http://pollyvote.com/en/category/state/"+a+"/";window.open(s,"_blank")}features.selectAll("path").data(a.features).enter().append("path").attr("d",path).attr("class","states").attr("id",function(t){for(var a=0;a<e.states.length;a++)if(e.states[a].fullName===t.properties.NAME)return e.states[a].iso2}).attr("fill",function(e){for(var a=(this.id,0);a<t.length;a++)if(this.id==t[a].iso_2){var s=t[a].Republican_fre,n=t[a].Democrats_fre,o=s+n,i=s/o*100,l=n/o*100,r=t[a].twoPartyRep,c=t[a].twoPartyDemo;if(i>l&&i>80)return colors[0];if(i>l&&80>=i&&i>=50)return colors[1];if(i==l&&r>c&&i>80)return colors[0];if(i==l&&r>c&&80>=r&&r>=50)return colors[1];if(0==i&&0==l&&r>c&&i>80)return colors[0];if(0==i&&0==l&&r>c&&80>=r&&r>=50)return colors[1];if(i==l&&c>r&&c>80)return colors[4];if(i==l&&c>r&&80>=c&&c>=50)return colors[3];if(0==s&&0==n&&c>r&&c>80)return colors[3];if(0==s&&0==n&&c>r&&80>=c&&c>=50)return colors[3];if(l>i&&l>80)return colors[4];if(l>i&&80>=l&&l>=50)return colors[3];if(0==s&&0==n&&0==r&&0==c)return colors[2];if(s===n)return colors[2]}}).on("mouseover",s).on("mousemove",n).on("mouseout",o).on("click",i);var l={x:3,y:-150}}function models(){d3.select("#features").remove(),d3.selectAll("#points, .cli, .tru, .endLine").remove(),d3.select(".maing").remove(),modelService.getData().success(function(e){function t(e,t,n){function o(e,t){return e+t}organizeData(n,a,dataUs,s),collectElecVotes(dataUs),$scope.sumOfRepublicanVote=repElectoralVote.reduce(o,0),$scope.sumOfDemocratsVote=demElectoralVote.reduce(o,0),$scope.sumofNeutralVotes=neutralVote.reduce(o,0),createBars($scope.sumOfRepublicanVote,$scope.sumOfDemocratsVote,$scope.sumofNeutralVotes),$scope.firstSentence="The party that wins most electoral votes, and not most popular votes, wins the presidential election. The econometric models foresee ",$scope.repubDiff=$scope.sumOfRepublicanVote-270,$scope.demoDiff=$scope.sumOfDemocratsVote-270,$scope.lastSentence="more than the 270 that are necessary to win.";var i=document.getElementById("mapDisc");i&&$scope.sumOfRepublicanVote>$scope.sumOfDemocratsVote?document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Trump to gain approximately "+$scope.sumOfRepublicanVote+" electoral votes, "+$scope.repubDiff+" "+$scope.lastSentence:i&&$scope.sumOfRepublicanVote<$scope.sumOfDemocratsVote&&(document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Clinton to gain approximately "+$scope.sumOfDemocratsVote+" electoral votes, "+$scope.demoDiff+" "+$scope.lastSentence);var i=document.getElementById("mapdemnumbers");i&&(document.getElementById("mapdemnumbers").innerHTML=$scope.sumOfDemocratsVote,document.getElementById("maprepnumbers").innerHTML=$scope.sumOfRepublicanVote),makeFeatures(),makeMap(n,dataUs,t)}var a=e;repElectoralVote=[],demElectoralVote=[];var s=a.data[0].fcdate;$scope.lastUpadate=moment(a.lastupdate,"X").fromNow(),$scope.dateFormated=moment(s,"DD.MM.YYYY").format("MMMM Do YYYY"),d3_queue.queue().defer(d3.json,"app/usa/us.json").defer(d3.json,"app/usa/stateNames.json").await(t)})}function pollyvote_forecast(){d3.select("#features").remove(),d3.selectAll("#points, .cli, .tru, .endLine").remove(),d3.select(".maing").remove(),d3.select("#mapUSA").attr("class","withTooltips"),mapService.getData().success(function(e){function t(e,t,n){function o(e,t){return e+t}organizeData(n,a,dataUs,s),repElectoralVote.length=0,collectElecVotes(dataUs),$scope.sumOfRepublicanVote=repElectoralVote.reduce(o,0),$scope.sumOfDemocratsVote=demElectoralVote.reduce(o,0),$scope.sumofNeutralVotes=neutralVote.reduce(o,0),createBars($scope.sumOfRepublicanVote,$scope.sumOfDemocratsVote,$scope.sumofNeutralVotes),$scope.firstSentence="The party that wins most electoral votes, and not most popular votes, wins the presidential election. The latest prediction foresees ",$scope.repubDiff=$scope.sumOfRepublicanVote-270,$scope.demoDiff=$scope.sumOfDemocratsVote-270,$scope.lastSentence="more than the 270 that are necessary to win.";var i=document.getElementById("mapDisc");i&&$scope.sumOfRepublicanVote>$scope.sumOfDemocratsVote?document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Trump to gain approximately "+$scope.sumOfRepublicanVote+" electoral votes, "+$scope.repubDiff+" "+$scope.lastSentence:i&&$scope.sumOfRepublicanVote<$scope.sumOfDemocratsVote&&(document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Clinton to gain approximately "+$scope.sumOfDemocratsVote+" electoral votes, "+$scope.demoDiff+" "+$scope.lastSentence);var i=document.getElementById("mapdemnumbers");i&&(document.getElementById("mapdemnumbers").innerHTML=$scope.sumOfDemocratsVote,document.getElementById("maprepnumbers").innerHTML=$scope.sumOfRepublicanVote),makeFeatures(),makeMap(n,dataUs,t)}var a=e;repElectoralVote=[],demElectoralVote=[];var s=a.data[0].fcdate;$scope.lastUpadate=moment(a.lastupdate,"X").fromNow(),$scope.dateFormated=moment(s,"DD.MM.YYYY").format("MMMM Do YYYY"),d3_queue.queue().defer(d3.json,"app/usa/us.json").defer(d3.json,"app/usa/stateNames.json").await(t)})}function polls(){d3.select("#features").remove(),d3.selectAll("#points, .cli, .tru, .endLine").remove(),d3.select(".maing").remove(),inpollsService.getData().success(function(e){function t(e,t,n){function o(e,t){return e+t}organizeData(n,a,dataUs,s),collectElecVotes(dataUs),$scope.sumOfRepublicanVote=repElectoralVote.reduce(o,0),$scope.sumOfDemocratsVote=demElectoralVote.reduce(o,0),$scope.sumofNeutralVotes=neutralVote.reduce(o,0),$scope.firstSentence="The party that wins most electoral votes, and not most popular votes, wins the presidential election. The econometric models foresee ",$scope.repubDiff=$scope.sumOfRepublicanVote-270,$scope.demoDiff=$scope.sumOfDemocratsVote-270,$scope.lastSentence="more than the 270 that are necessary to win.";var i=document.getElementById("mapDisc");i&&$scope.sumOfRepublicanVote>$scope.sumOfDemocratsVote?document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Trump to gain approximately "+$scope.sumOfRepublicanVote+" electoral votes, "+$scope.repubDiff+" "+$scope.lastSentence:i&&$scope.sumOfRepublicanVote<$scope.sumOfDemocratsVote&&(document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Clinton to gain approximately "+$scope.sumOfDemocratsVote+" electoral votes, "+$scope.demoDiff+" "+$scope.lastSentence);var i=document.getElementById("mapdemnumbers");i&&(document.getElementById("mapdemnumbers").innerHTML=$scope.sumOfDemocratsVote,document.getElementById("maprepnumbers").innerHTML=$scope.sumOfRepublicanVote),makeFeatures(),makeMap(n,dataUs,t),createBars($scope.sumOfRepublicanVote,$scope.sumOfDemocratsVote,$scope.sumofNeutralVotes)}var a=e;repElectoralVote=[],demElectoralVote=[];var s=a.data[0].fcdate;$scope.lastUpadate=moment(a.lastupdate,"X").fromNow(),$scope.dateFormated=moment(s,"DD.MM.YYYY").format("MMMM Do YYYY"),d3_queue.queue().defer(d3.json,"app/usa/us.json").defer(d3.json,"app/usa/stateNames.json").await(t)})}function experts(){d3.select("#features").remove(),d3.selectAll("#points, .cli, .tru, .endLine").remove(),d3.select(".maing").remove(),expertService.getData().success(function(e){function t(e,t,n){function o(e,t){return e+t}organizeData(n,a,dataUs,s),collectElecVotes(dataUs),$scope.sumOfRepublicanVote=repElectoralVote.reduce(o,0),$scope.sumOfDemocratsVote=demElectoralVote.reduce(o,0),$scope.sumofNeutralVotes=neutralVote.reduce(o,0),$scope.firstSentence="The party that wins most electoral votes, and not most popular votes, wins the presidential election. The econometric models foresee ",$scope.repubDiff=$scope.sumOfRepublicanVote-270,$scope.demoDiff=$scope.sumOfDemocratsVote-270,$scope.lastSentence="more than the 270 that are necessary to win.";var i=document.getElementById("mapDisc");i&&$scope.sumOfRepublicanVote>$scope.sumOfDemocratsVote?document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Trump to gain approximately "+$scope.sumOfRepublicanVote+" electoral votes, "+$scope.repubDiff+" "+$scope.lastSentence:i&&$scope.sumOfRepublicanVote<$scope.sumOfDemocratsVote&&(document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Clinton to gain approximately "+$scope.sumOfDemocratsVote+" electoral votes, "+$scope.demoDiff+" "+$scope.lastSentence);var i=document.getElementById("mapdemnumbers");i&&(document.getElementById("mapdemnumbers").innerHTML=$scope.sumOfDemocratsVote,document.getElementById("maprepnumbers").innerHTML=$scope.sumOfRepublicanVote),makeFeatures(),makeMap(n,dataUs,t),createBars($scope.sumOfRepublicanVote,$scope.sumOfDemocratsVote,$scope.sumofNeutralVotes)}var a=e;repElectoralVote=[],demElectoralVote=[],console.log(a);var s=a.data[0].fcdate;$scope.lastUpadate=moment(a.lastupdate,"X").fromNow(),$scope.dateFormated=moment(s,"DD.MM.YYYY").format("MMMM Do YYYY"),d3_queue.queue().defer(d3.json,"app/usa/us.json").defer(d3.json,"app/usa/stateNames.json").await(t)})}function markets(){d3.select("#features").remove(),d3.selectAll("#points, .cli, .tru, .endLine").remove(),d3.select(".maing").remove(),predictionService.getData().success(function(e){function t(e,t,n){function o(e,t){return e+t}organizeData(n,a,dataUs,s),collectElecVotes(dataUs),$scope.sumOfRepublicanVote=repElectoralVote.reduce(o,0),$scope.sumOfDemocratsVote=demElectoralVote.reduce(o,0),$scope.sumofNeutralVotes=neutralVote.reduce(o,0),$scope.firstSentence="The party that wins most electoral votes, and not most popular votes, wins the presidential election. The econometric models foresee ",$scope.repubDiff=$scope.sumOfRepublicanVote-270,$scope.demoDiff=$scope.sumOfDemocratsVote-270,$scope.lastSentence="more than the 270 that are necessary to win.";var i=document.getElementById("mapDisc");i&&$scope.sumOfRepublicanVote>$scope.sumOfDemocratsVote?document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Trump to gain approximately "+$scope.sumOfRepublicanVote+" electoral votes, "+$scope.repubDiff+" "+$scope.lastSentence:i&&$scope.sumOfRepublicanVote<$scope.sumOfDemocratsVote&&(document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Clinton to gain approximately "+$scope.sumOfDemocratsVote+" electoral votes, "+$scope.demoDiff+" "+$scope.lastSentence);var i=document.getElementById("mapdemnumbers");i&&(document.getElementById("mapdemnumbers").innerHTML=$scope.sumOfDemocratsVote,document.getElementById("maprepnumbers").innerHTML=$scope.sumOfRepublicanVote),makeFeatures(),makeMap(n,dataUs,t),createBars($scope.sumOfRepublicanVote,$scope.sumOfDemocratsVote,$scope.sumofNeutralVotes)}var a=e;repElectoralVote=[],demElectoralVote=[],console.log(a);var s=a.data[0].fcdate;$scope.lastUpadate=moment(a.lastupdate,"X").fromNow(),$scope.dateFormated=moment(s,"DD.MM.YYYY").format("MMMM Do YYYY"),d3_queue.queue().defer(d3.json,"app/usa/us.json").defer(d3.json,"app/usa/stateNames.json").await(t)})}function citizen_forecasts(){d3.select("#features").remove(),d3.selectAll("#points, .cli, .tru, .endLine").remove(),d3.select(".maing").remove(),expecService.getData().success(function(e){function t(e,t,n){function o(e,t){return e+t}organizeData(n,a,dataUs,s),collectElecVotes(dataUs),$scope.sumOfRepublicanVote=repElectoralVote.reduce(o,0),$scope.sumOfDemocratsVote=demElectoralVote.reduce(o,0),$scope.sumofNeutralVotes=neutralVote.reduce(o,0),$scope.firstSentence="The party that wins most electoral votes, and not most popular votes, wins the presidential election. The econometric models foresee ",$scope.repubDiff=$scope.sumOfRepublicanVote-270,$scope.demoDiff=$scope.sumOfDemocratsVote-270,$scope.lastSentence="more than the 270 that are necessary to win.";var i=document.getElementById("mapDisc");i&&$scope.sumOfRepublicanVote>$scope.sumOfDemocratsVote?document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Trump to gain approximately "+$scope.sumOfRepublicanVote+" electoral votes, "+$scope.repubDiff+" "+$scope.lastSentence:i&&$scope.sumOfRepublicanVote<$scope.sumOfDemocratsVote&&(document.getElementById("mapDisc").innerHTML=$scope.firstSentence+" Clinton to gain approximately "+$scope.sumOfDemocratsVote+" electoral votes, "+$scope.demoDiff+" "+$scope.lastSentence);var i=document.getElementById("mapdemnumbers");i&&(document.getElementById("mapdemnumbers").innerHTML=$scope.sumOfDemocratsVote,document.getElementById("maprepnumbers").innerHTML=$scope.sumOfRepublicanVote),makeFeatures(),makeMap(n,dataUs,t),createBars($scope.sumOfRepublicanVote,$scope.sumOfDemocratsVote,$scope.sumofNeutralVotes)}var a=e;repElectoralVote=[],demElectoralVote=[],console.log(a);var s=a.data[0].fcdate;$scope.lastUpadate=moment(a.lastupdate,"X").fromNow(),$scope.dateFormated=moment(s,"DD.MM.YYYY").format("MMMM Do YYYY"),d3_queue.queue().defer(d3.json,"app/usa/us.json").defer(d3.json,"app/usa/stateNames.json").await(t)})}var colors=["#e74c3c","#f4a582","#d7dadb","#92c5de","#2980b9"],labels=["Safe Republican","Lean Republican","Tossup","Lean Democrat","Safe Democrat"],dataUs=[],dateFormat=d3.time.format("%d.%m.%Y"),dateFormatChanged=d3.time.format("%b %d"),width=960,height=500,centered,svg,features;$scope.methods=["PollyVote forecast","Polls","Models","Experts","Markets","Citizen forecasts"];var repElectoralVote=[],demElectoralVote=[],neutralVote=[],demoDotted=[],repDotted=[],neutralVotes=[],ids=["#demdotted","#neu","#repdotted"],className=document.querySelector("#mapUSA").getAttribute("class"),datacleaned=[],now=moment(),projection=d3.geo.albersUsa().scale(1100),path=d3.geo.path().projection(projection),color=d3.scale.quantize().domain([0,1]).range(colors),mapTooltip=d3.select("body").append("div").attr("class","mapTooltip"),centered,toType=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};Number.prototype.toFixedNumber=function(e,t){var a=Math.pow(t||10,e);return+(Math.floor(this*a)/a)};var uiqueData=[],legendHeading=d3.select("#legend").append("text").text("Trump").attr("class","legendHeading").attr("style","color:#e74c3c;"),legend=d3.select("#legend").append("ul").attr("class","list-inline").attr("id","legendList"),legendHeading=d3.select("#legend").append("text").text("Clinton").attr("class","legendHeading").attr("style","color:#2980b9;"),keys=legend.selectAll("li.key").data(color.range());keys.enter().append("li").attr("class","key").style("border-left-color",String).append("text").data(labels).text(function(e){return e}),pollyvote_forecast(),$scope.myFunction=function(functionName){var str=functionName;str=str.replace(/\s+/g,"_").toLowerCase(),eval(str+"()")}}return{restrict:"E",templateUrl:function(e,t){if(t){if("detaliedMap"===t.type)return"app/usa/usMap.html";if("simpleUSMap"===t.type)return"app/usa/usMapSimple.html"}},link:link}}globe.$inject=["mapService","modelService","inpollsService","expertService","predictionService","expecService"],angular.module("pollyvotes").directive("globe",globe)}(),function(){function e(e){var t="//pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&level=state&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t)},a}e.$inject=["$http"],angular.module("pollyvotes").service("mapService",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&level=state&type=polls_combined&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t)},a}e.$inject=["$http"],angular.module("pollyvotes").service("inpollsService",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&level=state&type=experts_combined&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t)},a}e.$inject=["$http"],angular.module("pollyvotes").service("expertService",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&level=state&type=expectations_combined&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t)},a}e.$inject=["$http"],angular.module("pollyvotes").service("expecService",e)}(),function(){function e(e,t,a){a.getData().success(function(t){function a(e){var t=e.slice(Math.max(e.length-30,0));return t}function s(e){var t=parseFloat(e),a=t.toFixed(1);return a}function n(e,t){var a=e-t;return a.toFixed(2)}function o(e,t){var a=Math.abs(e-t);return a.toFixed(1)}function i(){return F>A?"As of "+e.dateConvert+" the Democrats are predicted to win the presidential election of 2016. The latest data says that the Democrats will win with "+e.democrates+" of the vote while the Republicans get "+e.repulicans+" percent.":"As of "+e.dateConvert+" the Republicans are predicted to win the presidential election of 2016. The latest data says that the Republicans will win with "+e.repulicans+" of the vote while the Democrats get "+e.democrates+" percent."}function l(){return F>A?"Prediction:  Democrats will win":"Prediction: Republicans will win"}function r(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[E,w,S],colors:{Clinton:"#2980b9",Trump:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},axis:{x:{type:"timeseries",max:"2016-11-08",tick:{values:["2016-02-01","2016-06-14","2016-11-08","2016-09-26","2016-10-19","2016-07-18","2016-07-28"],
format:d3.time.format("%b %d")},label:{text:"Election Timeline",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Two-party vote",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},regions:[{axis:"x",start:"2016-02-01",end:"2016-06-14","class":"regionX",label:"Primaries",horizotal:!0},{axis:"x",start:"2016-07-18",end:"2016-07-28","class":"regionX",label:"Conventions",horizotal:!0},{axis:"x",start:"2016-09-26",end:"2016-10-19","class":"regionX",label:"Debates",horizotal:!0}],point:{r:1,focus:{expand:{enabled:!0}}},legend:{show:!1},tooltip:{format:{title:function(e){var t=d3.time.format("%B %d"),a=t(e);return a},value:function(e,t){return e.toFixed(1)+"%"}}}})}function c(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[P,T,V],colors:{Clinton:"#2980b9",Trump:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},legend:{show:!1},axis:{x:{type:"timeseries",tick:{format:"%b-%d",count:7},label:{text:"Election Timeline",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Two-party vote",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},point:{r:1,focus:{expand:{enabled:!0}}},tooltip:{format:{title:function(e){var t=d3.time.format("%B %d"),a=t(e);return a},value:function(e,t){return e.toFixed(1)+"%"}}}})}function d(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[E,w,S],colors:{Clinton:"#2980b9",Trump:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},legend:{show:!1},axis:{x:{type:"timeseries",tick:{format:"%b-%d",count:7},label:{text:"Election Timeline",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Two-party vote",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},regions:[{axis:"x",start:"2016-02-01",end:"2016-06-14","class":"regionX",label:"Primaries",horizotal:!0},{axis:"x",start:"2016-07-18",end:"2016-07-28","class":"regionX",label:"Conventions",horizotal:!0},{axis:"x",start:"2016-09-26",end:"2016-10-19","class":"regionX",label:"Debates",horizotal:!0}],point:{r:1,focus:{expand:{enabled:!0}}},tooltip:{format:{title:function(e){var t=d3.time.format("%B %d"),a=t(e);return a},value:function(e,t){return e.toFixed(1)+"%"}}}})}for(var p=[],u=[],m=[],h=0;h<t.data.length;h++)if(0!=t.data[h].fcdemvs&&0!=t.data[h].fcrepvs){p.push(t.data[h].fcdemvs),u.push(t.data[h].fcrepvs);var g=t.data[h].fcdate,f=g.split("."),b=f.reverse(),v=b.join("-");m.push(v)}var y=p.reverse(),x=["Clinton"],w=x.concat(y),C=a(y),T=x.concat(C),k=u.reverse(),D=["Trump"],S=D.concat(k),$=a(k),V=D.concat($),M=m.reverse(),I=["x"],E=I.concat(M),O=a(M),P=I.concat(O);e.lastitemDate=_.last(E);var L=e.lastitemDate,g=Date.parse(L.replace(/-/g,"/")),R=d3.time.format("%B %d");e.dateConvert=R(new Date(g));var B=(new Date(g),d3.time.format("%B %d, %Y"));e.dateWithyear=B(new Date(g));var F=_.last(w),A=_.last(S),H=w[w.length-2],z=S[S.length-2];e.democrates=s(F),e.repulicans=s(A),e.democratesDiffrence=n(F,H),e.republicansDiffrence=n(A,z),e.diffrenceParties=o(F,A),e.lastCandidate=i(),e.heading=l(),r(),e.wholeTimeline=!0,e.changeAxis2=function(){e.wholeTimeline?(e.thirtyDay=!1,r()):d()},e.changeAxis1=function(){e.thirtyDay?(e.wholeTimeline=!1,c()):d()}}).error(function(e){console.log("Cant process data")})}e.$inject=["$scope","$timeout","lineChart"],angular.module("pollyvotes").controller("SimpleChartController",e)}(),function(){function e(e,t,a,s,n,o){e.changeLanguage=function(e){s.use(e)},n.set("de"),moment.locale("de"),e.photos=[{id:"chart-1",name:"Welche Partei wird gewinnen?",src:"assets/images/Image_Mirrored_Graph_3.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "},{id:"chart-3",name:"Prognose des Wahlsiegers je Staat",src:"assets/images/Image_Map_new size.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "},{id:"chart-2",name:"Frühere Prognosen: 2004, 2008 & 2012",src:"assets/images/Image_PollyVoteinAction_new size.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "},{id:"chart-4",name:"Wahlanalysen als Newsletter",src:"assets/images/Image_RobotText.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "},{id:"chart-5",name:"Was ist PollyVote? Wer steckt dahinter?",src:"assets/images/Image_About us.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "}],a.getData().success(function(t){function a(e){var t=e.slice(Math.max(e.length-30,0));return t}function s(e){var t=parseFloat(e),a=t.toFixed(1);return a}function n(e,t){var a=e-t;return a.toFixed(2)}function o(e,t){var a=Math.abs(e-t);return a.toFixed(1)}function i(){return F>A?"Stand heute, den "+e.dateConvert+", werden die Demokraten als Wahlsieger prognostiziert. Aktuell liegen sie mit einem Stimmenanteil von "+e.democrats+" Prozent oben auf, während die Republikaner auf "+e.republicans+" Prozent kommen.":"Seit dem "+e.dateConvert+" werden die Demokraten als Wahlsieger prognostiziert. Aktuell liegen sie mit einem Stimmenanteil von "+e.Republikaner+" Prozent oben auf, während die Republikaner auf "+e.Demokraten+" Prozent kommen."}function l(){return F>A?"Prognose: Demokraten werden gewinnen":"Prognose: Republikaner werden gewinnen"}function r(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[O,C,$],colors:{Demokraten:"#2980b9",Republikaner:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},axis:{x:{type:"timeseries",max:"2016-11-08",tick:{values:["2016-02-01","2016-06-14","2016-11-08","2016-09-26","2016-10-19","2016-07-18","2016-07-28"],format:y.timeFormat("%b-%d")},label:{text:"Wahlchronik",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Stimmenanteil",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},regions:[{axis:"x",start:"2016-02-01",end:"2016-06-14","class":"regionX",label:"Primaries",horizotal:!0},{axis:"x",start:"2016-07-18",end:"2016-07-28","class":"regionX",label:"Conventions",horizotal:!0},{axis:"x",start:"2016-09-26",end:"2016-10-19","class":"regionX",label:"Debates",horizotal:!0}],point:{r:1,focus:{expand:{enabled:!0}}},legend:{show:!1},tooltip:{format:{title:function(e){var t=(y.timeFormat("%B %d"),moment(e).format("Do MMMM"));return t},value:function(e,t){var a=e.toFixed(1);return y.numberFormat(",.")(a)+"%"}}}})}function c(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[L,k,M],colors:{Demokraten:"#2980b9",Republikaner:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},legend:{show:!1},axis:{x:{type:"timeseries",tick:{format:y.timeFormat("%b-%d"),count:7},label:{text:"Wahlchronik",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Stimmenanteil",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},point:{r:1,focus:{expand:{enabled:!0}}},tooltip:{format:{title:function(e){var t=y.timeFormat("%B %d"),a=t(e);return a},value:function(e,t){var a=e.toFixed(1);return y.numberFormat(",.")(a)+"%"}}}})}function d(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[O,C,$],colors:{Demokraten:"#2980b9",Republikaner:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},legend:{show:!1},axis:{x:{type:"timeseries",tick:{format:y.timeFormat("%b %d"),count:7},label:{text:"Wahlchronik",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Stimmenanteil",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},regions:[{axis:"x",start:"2016-02-01",end:"2016-06-14","class":"regionX",label:"Primaries",horizotal:!0},{axis:"x",start:"2016-07-18",end:"2016-07-28","class":"regionX",label:"Conventions",horizotal:!0},{axis:"x",start:"2016-09-26",end:"2016-10-19","class":"regionX",label:"Debates",horizotal:!0}],point:{r:1,focus:{expand:{enabled:!0}}},tooltip:{format:{title:function(e){var t=y.timeFormat("%B %d"),a=t(e);return a},value:function(e,t){var a=e.toFixed(1);return y.numberFormat(",.")(a)+"%"}}}})}for(var p=[],u=[],m=[],h=0;h<t.data.length;h++){p.push(t.data[h].fcdemvs),u.push(t.data[h].fcrepvs);var g=t.data[h].fcdate,f=g.split("."),b=f.reverse(),v=b.join("-");m.push(v)}moment.locale("de");var y=d3.locale({decimal:",",thousands:".",grouping:[3],currency:[""," €"],dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),x=p.reverse(),w=["Demokraten"],C=w.concat(x),T=a(x),k=w.concat(T),D=u.reverse(),S=["Republikaner"],$=S.concat(D),V=a(D),M=S.concat(V),I=m.reverse(),E=["x"],O=E.concat(I),P=a(I),L=E.concat(P);e.lastitemDate=_.last(O),e.latestDate=moment(e.lastitemDate).format("Do MMMM YYYY");var R=e.lastitemDate,g=Date.parse(R.replace(/-/g,"/")),B=y.timeFormat("%B %d");e.dateConvert=B(new Date(g));var F=_.last(C),A=_.last($),H=C[C.length-2],z=$[$.length-2];e.inidemocrates=s(F),e.democrats=y.numberFormat(",.")(e.inidemocrates),e.republicans=y.numberFormat(",.")(s(A)),e.DemokratenDiffrence=n(F,H),e.RepublikanerDiffrence=n(A,z),e.diffrenceParties=o(F,A),e.lastCandidate=i(),e.heading=l(),r(),e.wholeTimeline=!0,e.changeAxis2=function(){e.wholeTimeline?(e.thirtyDay=!1,r()):d()},e.changeAxis1=function(){e.thirtyDay?(e.wholeTimeline=!1,c()):d()}}).error(function(e){console.log("Cant process data")})}e.$inject=["$scope","$timeout","lineChart","$translate","tmhDynamicLocale","$filter"],angular.module("pollyvotes").controller("MainDeController",e)}(),function(){function e(e,t,a,s,n,o){e.changeLanguage=function(e){s.use(e)},n.set("en"),moment.locale("en"),e.photos=[{id:"chart-1",name:"Predicting which party will win. Updated daily",src:"assets/images/Image_Mirrored_Graph_3.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "},{id:"chart-3",name:"Predicting the winner in each U.S. State",src:"assets/images/Image_Map_new size.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "},{id:"chart-2",name:"Past predictions: 2004, 2008 & 2012",src:"assets/images/Image_PollyVoteinAction_new size.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "},{id:"chart-4",name:"Election analytics as newsletter",src:"assets/images/Image_RobotText.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "},{id:"chart-5",name:"What is PollyVote? And who is behind this?",src:"assets/images/Image_About us.png",href:"https://www.google.de/?gws_rd=ssl",discription:" "}],a.getData().success(function(t){function a(e){var t=e.slice(Math.max(e.length-30,0));return t}function s(e){var t=parseFloat(e),a=t.toFixed(1);return a}function n(e,t){var a=e-t;return a.toFixed(2)}function o(e,t){var a=Math.abs(e-t);return a.toFixed(1)}function i(){return B>F?"As of "+e.dateConvert+" the Democrats are predicted to win the presidential election of 2016. The latest data says that the Democrats will win with "+e.democrats+" of the vote while the Republicans get "+e.republicans+" percent.":"As of "+e.dateConvert+" the Republicans are predicted to win the presidential election of 2016. The latest data says that the Republicans will win with "+e.republicans+" of the vote while the Democrats get "+e.democrates+" percent."}function l(){return B>F?"Prediction:  Clinton will win":"Prediction: Trump will win"}function r(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[E,w,S],colors:{Clinton:"#2980b9",Trump:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},axis:{x:{type:"timeseries",max:"2016-11-08",tick:{values:["2016-02-01","2016-06-14","2016-11-08","2016-09-26","2016-10-19","2016-07-18","2016-07-28"],format:d3.time.format("%b %d")},label:{text:"Election Timeline",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Two-party vote",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},regions:[{axis:"x",start:"2016-02-01",end:"2016-06-14","class":"regionX",label:"Primaries",horizotal:!0},{axis:"x",start:"2016-07-18",end:"2016-07-28","class":"regionX",label:"Conventions",horizotal:!0},{axis:"x",start:"2016-09-26",end:"2016-10-19","class":"regionX",label:"Debates",horizotal:!0}],point:{r:1,focus:{expand:{enabled:!0}}},legend:{show:!1},tooltip:{format:{title:function(e){var t=moment(e).format("MMM Do");return t},value:function(e,t){return e.toFixed(1)+"%"}}}})}function c(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[P,T,V],colors:{Clinton:"#2980b9",Trump:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},legend:{show:!1},axis:{x:{type:"timeseries",tick:{format:"%b-%d",count:7},label:{text:"Election Timeline",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Two-party vote",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},point:{r:1,focus:{expand:{enabled:!0}}},tooltip:{format:{title:function(e){var t=d3.time.format("%B %d"),a=t(e);return a},value:function(e,t){return e.toFixed(1)+"%"}}}})}function d(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[E,w,S],colors:{Clinton:"#2980b9",Trump:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},legend:{show:!1},axis:{x:{type:"timeseries",tick:{format:"%b-%d",count:7},label:{text:"Election Timeline",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Two-party vote",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},regions:[{axis:"x",start:"2016-02-01",end:"2016-06-14","class":"regionX",label:"Primaries",horizotal:!0},{axis:"x",start:"2016-07-18",end:"2016-07-28","class":"regionX",label:"Conventions",horizotal:!0},{axis:"x",start:"2016-09-26",end:"2016-10-19","class":"regionX",label:"Debates",horizotal:!0}],point:{r:1,focus:{expand:{enabled:!0}}},tooltip:{format:{title:function(e){var t=d3.time.format("%B %d"),a=t(e);return a},value:function(e,t){return e.toFixed(1)+"%"}}}})}var p=[],u=[],m=[];console.log(t.data[0].fcdate);for(var h=(new Date("04.01.2016"),0);h<t.data.length;h++)if(0!=t.data[h].fcdemvs&&0!=t.data[h].fcrepvs){p.push(t.data[h].fcdemvs),u.push(t.data[h].fcrepvs);var g=t.data[h].fcdate,f=g.split("."),b=f.reverse(),v=b.join("-");m.push(v)}var y=p.reverse(),x=["Clinton"],w=x.concat(y),C=a(y),T=x.concat(C),k=u.reverse(),D=["Trump"],S=D.concat(k),$=a(k),V=D.concat($),M=m.reverse(),I=["x"],E=I.concat(M),O=a(M),P=I.concat(O);e.lastitemDate=_.last(E),e.latestDate=moment(e.lastitemDate).format("MMM Do, YYYY");var L=e.lastitemDate,g=Date.parse(L.replace(/-/g,"/")),R=d3.time.format("%B %d");e.dateConvert=R(new Date(g));var B=_.last(w),F=_.last(S),A=w[w.length-2],H=S[S.length-2];e.democrats=s(B),e.republicans=s(F),e.democratesDiffrence=n(B,A),e.republicansDiffrence=n(F,H),e.diffrenceParties=o(B,F),e.lastCandidate=i(),e.heading=l(),r(),e.wholeTimeline=!0,e.changeAxis2=function(){e.wholeTimeline?(e.thirtyDay=!1,r()):d()},e.changeAxis1=function(){e.thirtyDay?(e.wholeTimeline=!1,c()):d()}}).error(function(e){console.log("Cant process data")})}e.$inject=["$scope","$timeout","lineChart","$translate","tmhDynamicLocale","$filter"],angular.module("pollyvotes").controller("MainController",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&type=polls_combined&displaydays=350&displaydays=350&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t,{cache:!0})},a}e.$inject=["$http"],angular.module("pollyvotes").service("pollagg",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&type=econ_models_combined&displaydays=350&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t,{cache:!0})},a}e.$inject=["$http"],angular.module("pollyvotes").service("econometricModels",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&type=markets_combined&displaydays=350&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t,{cache:!0})},a}e.$inject=["$http"],angular.module("pollyvotes").service("prediction",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&displaydays=350&type=index_models_combined&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t,{cache:!0})},a}e.$inject=["$http"],angular.module("pollyvotes").service("lineChartIndexModel",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&type=experts_combined&displaydays=350&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t,{cache:!0})},a}e.$inject=["$http"],angular.module("pollyvotes").service("expert",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&type=expectations_combined&displaydays=350&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t,{cache:!0})},a}e.$inject=["$http"],angular.module("pollyvotes").service("citizen",e)}(),function(){function e(e,t,a,s,n,o,i,l){function r(r,c,d){function p(e){if("number"!=typeof e){var t=e.replace(/[^0-9.]/g,""),a=parseFloat(t),s=a.toFixed(1);return parseFloat(s)}var s=e;return parseFloat(e.toFixed(1))}function u(e){r.convertedData=[],r.convertedData.length=0;for(var t=0;t<e.data.length;t++)if(0!=e.data[t].fcdemvs&&0!=e.data[t].fcrepvs){var a=e.data[t]._lastupdate,s=e.data[t].fcdate,n=moment.unix(a)._d,o=s.split("."),i=o.reverse(),l=i.join("/"),c=new Date(l),d=p(e.data[t].fcdemvs),u=p(e.data[t].fcrepvs);r.convertedData.push({clinton:d,trump:u,date:Date.parse(c),lastUpdate:Date.parse(n)})}var m=r.convertedData.sort(function(e,t){return e=new Date(e.date),t=new Date(t.date),e>t?-1:t>e?1:0});return m}function m(e,t,a){e.length=0,t.length=0;for(var s=0;s<a.length;s++)e.push([a[s].date,parseFloat(a[s].clinton)]),t.push([a[s].date,parseFloat(a[s].trump)]);e.sort(),t.sort()}function h(){r.chartConfig={options:{plotOptions:{spline:{lineWidth:3},series:{marker:{enabled:!1}}},exporting:{enabled:!1},legend:{enabled:!1},tooltip:{animation:!0,crosshairs:{width:2,color:"gray",dashStyle:"shortdot"},shared:!0,enabled:!0,useHTML:!0,formatter:function(){var e="<h5><b>"+moment(this.x,"x").format("MMM Do")+"</b><h5>";return $.each(this.points,function(){var t=this.series.options.identifier,a=function(){return"cc"==t?"#2980b9":"tt"==t?"#e74c3c":void 0};e+='<p  style="color:'+a()+'">'+this.series.name+': <span style="font-weight:bold;">'+this.y.toFixed(1)+"</span></p>"}),e}}},xAxis:{gridLineWidth:0,type:"datetime",tickInterval:1728e6,min:new Date("2016/01/04").getTime(),max:new Date("2016/11/08").getTime(),title:{text:"Election Timeline",align:"high",offset:0,rotation:0,y:-14},plotBands:[{from:new Date("2016/02/01").getTime(),to:new Date("2016/06/14").getTime(),color:"rgb(243, 243, 243)",zindex:0,label:{text:"Primaries",style:{color:"#606060"}}},{from:new Date("2016/07/18").getTime(),to:new Date("2016/07/28").getTime(),color:"rgb(243, 243, 243)",zindex:0,label:{text:"Conventions",style:{color:"#606060"}}},{from:new Date("2016/09/26").getTime(),to:new Date("2016/10/19").getTime(),color:"rgb(243, 243, 243)",zindex:0,label:{text:"Debates",style:{color:"#606060"}}}]},yAxis:{gridLineWidth:0,allowDecimals:!1,labels:{enabled:!0,formatter:function(){return this.value+"%"}},lineWidth:1,title:{text:"Two-party vote",align:"middle"},plotLines:[{color:"silver",width:.7,value:50,zIndex:4}]},series:[],title:{text:" "},loading:!1,credits:{enabled:!1}}}function g(e){if(r.trumpValues=!1,1==r.clintonValues)for(var t=0;t<r.chartConfig.series.length;t++)"tt"==r.chartConfig.series[t].identifier&&(r.chartConfig.series[t].visible=!1)}function f(e){if(r.clintonValues=!1,1==r.trumpValues)for(var t=0;t<r.chartConfig.series.length;t++)"cc"==r.chartConfig.series[t].identifier&&(r.chartConfig.series[t].visible=!1)}var b=["#e74c3c","#f4a582","#92c5de","#2980b9"],v=function(e,t,a){a.date=e.lastupdate_iso8601,a.data=[];for(var s=0;s<e.data.length;s++)e.data[s].forecast==t&&a.data.push(e.data[s])};r.addOnlyTrump=function(e){1==r.trumpValues?f(r.trumpValues):(r.chartConfig.series[0].visible=!0,r.indexOnclick(),r.econoOnclick(),r.expertOnclick(),r.keysOnclick(),r.issuesOnclick(),r.bioIndexOnclick(),r.bigIssueOnclick(),r.issueIndexOnclick(),r.citizenOnclick(),r.pmOnclick(),r.intenpollsOnclick())},r.addOnlyClinton=function(e){1==r.clintonValues?g(r.clintonValues):(r.chartConfig.series[1].visible=!0,r.indexOnclick(),r.econoOnclick(),r.expertOnclick(),r.keysOnclick(),r.issuesOnclick(),r.bioIndexOnclick(),r.bigIssueOnclick(),r.issueIndexOnclick(),r.citizenOnclick(),r.pmOnclick(),r.intenpollsOnclick())},r.completeTimeLine=function(e){1==r.timeline?(r.thirtyDay=!1,r.chartConfig.xAxis.min=new Date("2016/01/04").getTime(),r.chartConfig.xAxis.max=r.pollyvoteData[0].date):0==r.timeline&&0==r.thirtyDay&&(r.chartConfig.xAxis.max=new Date("2016/11/08").getTime(),r.chartConfig.xAxis.min=new Date("2016/01/04").getTime())},r.lastThiry=function(e){if(1==r.thirtyDay){r.timeline=!1;var t=moment().subtract(30,"days"),a=moment();r.chartConfig.xAxis.max=Date.parse(a),r.chartConfig.xAxis.min=Date.parse(t._d),console.log(JSON.stringify(r.pollyvoteData))}else 0==r.thirtyDay&&0==r.timeline&&(r.chartConfig.xAxis.max=new Date("2016/11/08").getTime(),r.chartConfig.xAxis.min=new Date("2016/01/04").getTime())},e.getData().success(function(e){t.getData().success(function(t){a.getData().success(function(a){s.getData().success(function(s){i.getData().success(function(e){console.log(e),r.pollaggr=u(e),r.pollaggrClintonForcast=r.pollaggr[0].clinton,r.pollaggrTrumpForcast=r.pollaggr[0].trump,r.pollsClintonValues=[],r.pollsTrumpValues=[],m(r.pollsClintonValues,r.pollsTrumpValues,r.pollaggr)}),o.getData().success(function(e){console.log(e),r.predictionMarketData=u(e),r.predictionMarketClintonForcast=r.predictionMarketData[0].clinton,r.predictionMarketTrumpForcast=r.predictionMarketData[0].trump,r.predictionClintonValues=[],r.predictionTrumpValues=[],m(r.predictionClintonValues,r.predictionTrumpValues,r.predictionMarketData)}),n.getData().success(function(e){console.log(e),r.citizenData=u(e),r.citizenClintonForcast=r.citizenData[0].clinton,r.citizentrumpForcast=r.citizenData[0].trump,r.citizenClintonValues=[],r.citizenTrumpValues=[],m(r.citizenClintonValues,r.citizenTrumpValues,r.citizenData)}),l.getData().success(function(n){function o(){1==r.trumpValues?f():1==r.clintonValues&&g()}r.KeystotheWhiteHouse={},r.IssuesandLeaders={},r.bioIndex={},r.bigIssue={},r.issueIndex={},v(n,"Keys to the White House",r.KeystotheWhiteHouse),v(n,"Issues and Leaders",r.IssuesandLeaders),v(n,"Bio-index",r.bioIndex),v(n,"Big-issue",r.bigIssue),v(n,"Issue-index",r.issueIndex),r.keystowhitehouseCleanedData=u(r.KeystotheWhiteHouse),r.issuesandLeadersCleanedData=u(r.IssuesandLeaders),r.bioindexCleanedData=u(r.bioIndex),r.bigIssue=u(r.bigIssue),r.issueIndexCleanedData=u(r.issueIndex),r.keystowhiteHouseClintonForcast=r.keystowhitehouseCleanedData[0].clinton,r.IssuesandLeadersClintonForcast=r.issuesandLeadersCleanedData[0].clinton,r.bioindexClintonForecast=r.bioindexCleanedData[0].clinton,r.bigIssueClintonForecast=r.bigIssue[0].clinton,r.issueIndexClintonForecast=r.issueIndexCleanedData[0].clinton,r.keystowhiteHousetrumpForcast=r.keystowhitehouseCleanedData[0].trump,r.issuesandLeadersTrumpForecast=r.issuesandLeadersCleanedData[0].trump,r.bioindexTrumpForecast=r.bioindexCleanedData[0].trump,r.bigIssueTrumpForecast=r.bigIssue[0].trump,r.issueIndexTrumpForecast=r.issueIndexCleanedData[0].trump,r.keystowhiteHouseClintonValues=[],r.issuesandleadersClintonValues=[],r.bioindexClintonValues=[],r.bigIssueClintonValues=[],r.issueIndexClintonValues=[],r.keystowhiteHouseTrumpValues=[],r.issuesandleadersTrumpValues=[],r.bioindexTrumpValues=[],r.bigIssueTrumpValues=[],r.issueIndextrumpValues=[],m(r.keystowhiteHouseClintonValues,r.keystowhiteHouseTrumpValues,r.keystowhitehouseCleanedData),m(r.issuesandleadersClintonValues,r.issuesandleadersTrumpValues,r.issuesandLeadersCleanedData),m(r.bioindexClintonValues,r.bioindexTrumpValues,r.bioindexCleanedData),m(r.bigIssueClintonValues,r.bigIssueTrumpValues,r.bigIssue),m(r.issueIndexClintonValues,r.issueIndextrumpValues,r.issueIndexCleanedData),r.pollyvoteData=u(e),r.lastdate=moment(e.lastupdate_iso8601).format("MMM Do YYYY"),r.lastupDated=moment.utc(e.lastupdate_iso8601).fromNow(),r.pollyvoteClintonForcast=r.pollyvoteData[0].clinton,r.pollyvoteTrumpForcast=r.pollyvoteData[0].trump,r.indexModelData=u(t),r.indexClintonForcast=r.indexModelData[0].clinton,r.indexTrumpForcast=r.indexModelData[0].trump,r.econometricData=u(a),r.econometricClintonForcast=r.econometricData[0].clinton,r.econometricTrumpForcast=r.econometricData[0].trump,r.expertData=u(s),r.expertClintonForcast=r.expertData[0].clinton,r.expertTrumpForcast=r.expertData[0].trump,r.clintonValues=[],r.trumpValues=[],r.indexClinton=[],r.indexTrump=[],r.econoClinton=[],r.econoTrump=[],r.ModelsExpertClinton=[],r.ModelsExpertTrump=[],m(r.clintonValues,r.trumpValues,r.pollyvoteData),m(r.indexClinton,r.indexTrump,r.indexModelData),m(r.econoClinton,r.econoTrump,r.econometricData),m(r.ModelsExpertClinton,r.ModelsExpertTrump,r.expertData),h(),r.chartConfig.series.push({type:"spline",name:"PollyVote Combined forecasts Clinton",identifier:"cc",method:"PollyVote Combined forecasts",color:b[3],data:r.clintonValues,lineWidth:3,visible:!0},{type:"spline",name:"PollyVote Combined forecasts Trump",identifier:"tt",method:"PollyVote Combined forecasts",color:b[0],data:r.trumpValues,lineWidth:3,visible:!0},{type:"spline",name:"Index Models Clinton ",identifier:"cc",method:"Index models",color:b[2],data:r.indexClinton,lineWidth:2,visible:!1},{type:"spline",name:"Index Models Trump",identifier:"tt",method:"Index models",color:b[1],data:r.indexTrump,lineWidth:2,visible:!1},{type:"spline",name:"Econometric Models Clinton",identifier:"cc",color:b[2],data:r.econoClinton,lineWidth:2,visible:!1},{type:"spline",name:"Econometric Models Trump",identifier:"tt",color:b[1],data:r.econoTrump,lineWidth:2,visible:!1},{type:"spline",name:"Expert Judgment Clinton ",identifier:"cc",color:b[2],data:r.ModelsExpertClinton,lineWidth:2,visible:!1},{type:"spline",name:"Expert Judgment Trump",identifier:"tt",color:b[1],data:r.ModelsExpertTrump,lineWidth:2,visible:!1},{type:"spline",name:"Keys to White House Prediction for Clinton",identifier:"cc",color:b[2],data:r.keystowhiteHouseClintonValues,lineWidth:2,visible:!1},{type:"spline",name:"Keys to White House Prediction for Trump",identifier:"tt",color:b[1],data:r.keystowhiteHouseTrumpValues,lineWidth:2,visible:!1},{type:"spline",name:"Issues and Leaders Prediction for Clinton",identifier:"cc",color:b[2],data:r.issuesandleadersClintonValues,lineWidth:2,visible:!1},{type:"spline",name:"Issues and Leaders Prediction for Trump",identifier:"tt",color:b[1],data:r.issuesandleadersTrumpValues,lineWidth:2,visible:!1},{type:"spline",name:"Bio-index Prediction for Clinton",identifier:"cc",color:b[2],data:r.bioindexClintonValues,lineWidth:2,visible:!1},{type:"spline",name:"Bio-index Prediction for Trump",identifier:"tt",color:b[1],data:r.bioindexTrumpValues,lineWidth:2,visible:!1},{type:"spline",name:"Big-Issues Prediction for Clinton",identifier:"cc",color:b[2],data:r.bigIssueClintonValues,lineWidth:2,visible:!1},{type:"spline",name:"Big-Issues Prediction for Trump",identifier:"tt",color:b[1],data:r.bigIssueTrumpValues,lineWidth:2,visible:!1},{type:"spline",name:"Issue-index Prediction for Clinton",identifier:"cc",color:b[2],data:r.issueIndexClintonValues,lineWidth:2,visible:!1},{type:"spline",name:"Issue-index Prediction for Trump",identifier:"tt",color:b[1],data:r.issueIndextrumpValues,lineWidth:2,visible:!1},{type:"spline",name:"Citizen Forecast for Clinton",identifier:"cc",color:b[2],data:r.citizenClintonValues,lineWidth:2,visible:!1},{type:"spline",name:"Citizen Forecast for Trump",identifier:"tt",color:b[1],data:r.citizenTrumpValues,lineWidth:2,visible:!1},{type:"spline",name:"Prediction Markets Clinton",identifier:"cc",color:b[2],data:r.predictionClintonValues,lineWidth:2,visible:!1},{type:"spline",name:"Prediction Markets Trump",identifier:"tt",color:b[1],data:r.predictionTrumpValues,lineWidth:2,visible:!1},{type:"spline",name:"Intention polls Clinton",identifier:"cc",color:b[2],data:r.pollsClintonValues,lineWidth:2,visible:!1},{type:"spline",name:"Intention polls Trump",identifier:"tt",color:b[1],data:r.pollsTrumpValues,lineWidth:2,visible:!1}),r.indexOnclick=function(){1==r.indexModel?(console.log("initiated"),r.chartConfig.series[2].visible=!0,r.chartConfig.series[3].visible=!0,o()):(r.chartConfig.series[2].visible=!1,r.chartConfig.series[3].visible=!1)},r.econoOnclick=function(){1==r.models?(console.log("initiated"),r.chartConfig.series[4].visible=!0,r.chartConfig.series[5].visible=!0,o()):(r.chartConfig.series[4].visible=!1,r.chartConfig.series[5].visible=!1)},r.expertOnclick=function(){1==r.expert?(r.chartConfig.series[6].visible=!0,r.chartConfig.series[7].visible=!0,o()):(r.chartConfig.series[6].visible=!1,r.chartConfig.series[7].visible=!1)},r.keysOnclick=function(){1==r.keysWhiteHouse?(console.log("initiated"),r.chartConfig.series[8].visible=!0,r.chartConfig.series[9].visible=!0,o()):(r.chartConfig.series[8].visible=!1,r.chartConfig.series[9].visible=!1)},r.issuesOnclick=function(){1==r.issuesAndLeaders?(console.log("initiated"),r.chartConfig.series[10].visible=!0,r.chartConfig.series[11].visible=!0,o()):(r.chartConfig.series[10].visible=!1,r.chartConfig.series[11].visible=!1)},r.bioIndexOnclick=function(){1==r.bioIndex?(console.log("initiated"),r.chartConfig.series[12].visible=!0,r.chartConfig.series[13].visible=!0,o()):(r.chartConfig.series[12].visible=!1,r.chartConfig.series[13].visible=!1)},r.bigIssueOnclick=function(){1==r.bigIssue?(console.log("initiated"),r.chartConfig.series[14].visible=!0,r.chartConfig.series[15].visible=!0,o()):(r.chartConfig.series[14].visible=!1,r.chartConfig.series[15].visible=!1)},r.issueIndexOnclick=function(){1==r.issueIndex?(console.log("initiated"),r.chartConfig.series[16].visible=!0,r.chartConfig.series[17].visible=!0,o()):(r.chartConfig.series[16].visible=!1,r.chartConfig.series[17].visible=!1)},r.citizenOnclick=function(){1==r.citizen?(console.log("initiated"),r.chartConfig.series[18].visible=!0,r.chartConfig.series[19].visible=!0,o()):(r.chartConfig.series[18].visible=!1,
r.chartConfig.series[19].visible=!1)},r.pmOnclick=function(){1==r.markets?(console.log("initiated"),r.chartConfig.series[20].visible=!0,r.chartConfig.series[21].visible=!0,o()):(r.chartConfig.series[20].visible=!1,r.chartConfig.series[21].visible=!1)},r.intenpollsOnclick=function(){1==r.aggregators?(console.log("initiated"),r.chartConfig.series[22].visible=!0,r.chartConfig.series[23].visible=!0,o()):(r.chartConfig.series[22].visible=!1,r.chartConfig.series[23].visible=!1)}})})})})})}return{restrict:"E",templateUrl:"app/lineChartAlloptions/lineChart.html",link:r}}e.$inject=["lineChart","lineChartIndexModel","econometricModels","expert","citizen","prediction","pollagg","indexModelsubcategory"],angular.module("pollyvotes").directive("line",e)}(),function(){function e(e,t,a,s,n,o){e.init=function(){},e.init()}e.$inject=["$scope","$timeout","lineChart","$translate","tmhDynamicLocale","$filter"],angular.module("pollyvotes").controller("linechartalloptionsController",e)}(),function(){function e(e){var t="https://pollyvote.com/wp-content/plugins/pollyvote/data/index.php?time=current&type=index_models&displaydays=350&callback=JSON_CALLBACK",a={};return a.getData=function(){return e.jsonp(t,{cache:!0})},a}e.$inject=["$http"],angular.module("pollyvotes").service("indexModelsubcategory",e)}(),function(){function e(e,t,a){a.getData().success(function(t){function a(e){var t=e.slice(Math.max(e.length-30,0));return t}function s(e){var t=parseFloat(e),a=t.toFixed(1);return a}function n(e,t){var a=e-t;return a.toFixed(2)}function o(e,t){var a=Math.abs(e-t);return a.toFixed(1)}function i(){return F>A?"As of "+e.dateConvert+" the Democrats are predicted to win the presidential election of 2016. The latest data says that the Democrats will win with "+e.democrates+" of the vote while the Republicans get "+e.repulicans+" percent.":"As of "+e.dateConvert+" the Republicans are predicted to win the presidential election of 2016. The latest data says that the Republicans will win with "+e.repulicans+" of the vote while the Democrats get "+e.democrates+" percent."}function l(){return F>A?"Prediction:  Democrats will win":"Prediction: Republicans will win"}function r(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[E,w,S],colors:{Democrates:"#2980b9",Republicans:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},axis:{x:{type:"timeseries",max:"2016-11-08",tick:{values:["2016-02-01","2016-06-14","2016-11-08","2016-09-26","2016-10-19","2016-07-18","2016-07-28"],format:d3.time.format("%b %d")},label:{text:"Election Timeline",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Two-party vote",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},regions:[{axis:"x",start:"2016-02-01",end:"2016-06-14","class":"regionX",label:"Primaries",horizotal:!0},{axis:"x",start:"2016-07-18",end:"2016-07-28","class":"regionX",label:"Conventions",horizotal:!0},{axis:"x",start:"2016-09-26",end:"2016-10-19","class":"regionX",label:"Debates",horizotal:!0}],point:{r:1,focus:{expand:{enabled:!0}}},legend:{show:!1},tooltip:{format:{title:function(e){var t=d3.time.format("%B %d"),a=t(e);return a},value:function(e,t){return e.toFixed(1)+"%"}}}})}function c(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[P,T,V],colors:{Democrates:"#2980b9",Republicans:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},legend:{show:!1},axis:{x:{type:"timeseries",tick:{format:"%b-%d",count:7},label:{text:"Election Timeline",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Two-party vote",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},point:{r:1,focus:{expand:{enabled:!0}}},tooltip:{format:{title:function(e){var t=d3.time.format("%B %d"),a=t(e);return a},value:function(e,t){return e.toFixed(1)+"%"}}}})}function d(){c3.generate({bindto:"#lineChart",data:{x:"x",columns:[E,w,S],colors:{Democrates:"#2980b9",Republicans:"#e74c3c"}},oninit:function(){this.main.append("rect").style("fill","white").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).transition().duration(1500).attr("x",this.width).attr("width",0).remove()},legend:{show:!1},axis:{x:{type:"timeseries",tick:{format:"%b-%d",count:7},label:{text:"Election Timeline",position:"inner-right"}},y:{tick:{values:["46","48","50","52","54"],format:function(e){return parseInt(e)+"%"}},label:{text:"Two-party vote",position:"inner-center"}}},grid:{y:{lines:[{value:50}]}},regions:[{axis:"x",start:"2016-02-01",end:"2016-06-14","class":"regionX",label:"Primaries",horizotal:!0},{axis:"x",start:"2016-07-18",end:"2016-07-28","class":"regionX",label:"Conventions",horizotal:!0},{axis:"x",start:"2016-09-26",end:"2016-10-19","class":"regionX",label:"Debates",horizotal:!0}],point:{r:1,focus:{expand:{enabled:!0}}},tooltip:{format:{title:function(e){var t=d3.time.format("%B %d"),a=t(e);return a},value:function(e,t){return e.toFixed(1)+"%"}}}})}for(var p=[],u=[],m=[],h=0;h<t.data.length;h++){p.push(t.data[h].fcdemvs),u.push(t.data[h].fcrepvs);var g=t.data[h].fcdate,f=g.split("."),b=f.reverse(),v=b.join("-");m.push(v)}var y=p.reverse(),x=["Democrats"],w=x.concat(y),C=a(y),T=x.concat(C);console.log(w),console.log(T);var k=u.reverse(),D=["Republicans"],S=D.concat(k),$=a(k),V=D.concat($);console.log(S),console.log(V);var M=m.reverse(),I=["x"],E=I.concat(M),O=a(M),P=I.concat(O);console.log(E),console.log(P),e.lastitemDate=_.last(E);var L=e.lastitemDate,g=Date.parse(L.replace(/-/g,"/")),R=d3.time.format("%B %d");e.dateConvert=R(new Date(g));var B=(new Date(g),d3.time.format("%B %d, %Y"));e.dateWithyear=B(new Date(g));var F=_.last(w),A=_.last(S),H=w[w.length-2],z=S[S.length-2];e.democrates=s(F),e.repulicans=s(A),e.democratesDiffrence=n(F,H),e.republicansDiffrence=n(A,z),e.diffrenceParties=o(F,A),e.lastCandidate=i(),e.heading=l(),r(),e.wholeTimeline=!0,e.changeAxis2=function(){e.wholeTimeline?(e.thirtyDay=!1,r()):d()},e.changeAxis1=function(){e.thirtyDay?(e.wholeTimeline=!1,c()):d()}}).error(function(e){console.log("Cant process data")})}e.$inject=["$scope","$timeout","lineChart"],angular.module("pollyvotes").controller("LineChartController",e)}(),/*
    angularGrid.js v 0.5.4
    Author: Sudhanshu Yadav
    Copyright (c) 2015-2016 Sudhanshu Yadav - ignitersworld.com , released under the MIT license.
    Demo on: http://ignitersworld.com/lab/angulargrid/demo1.html
    Documentation and download on https://github.com/s-yadav/angulargrid
*/
!function(e,t,a){function s(e){return e.complete&&("undefined"==typeof e.naturalWidth||0!==e.naturalWidth)}function n(e){return Array.prototype.slice.call(e)}var o={gridWidth:300,gutterSize:10,gridNo:"auto",direction:"ltor",refreshOnImgLoad:!0,cssGrid:!1,performantScroll:!1,pageSize:"auto",scrollContainer:"body",infiniteScrollDelay:3e3,infiniteScrollDistance:100},i=e.element,l=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},r={visibility:"hidden",opacity:0,top:0,left:0,width:""},c=function(){var e=i(t);return function(t){return e[0]=t,e}}();i(document.head).append("<style>.ag-no-transition{-webkit-transition: none !important;transition: none !important;} .angular-grid{position : relative;} .angular-grid > *{opacity : 0} .angular-grid > .angular-grid-item{opacity : 1}</style>"),e.module("angularGrid",[]).directive("angularGrid",["$timeout","$window","$q","angularGridInstance",function(d,p,u,m){return{restrict:"A",scope:{model:"=angularGrid",dep_gridWidth:"=gridWidth",dep_gutterSize:"=gutterSize",dep_refreshOnImgLoad:"=refreshOnImgLoad",dep_direction:"=direction",dep_cssGrid:"=cssGrid",dep_options:"=angularGridOptions",dep_gridNo:"=gridNo",dep_agId:"@angularGridId",gridNo:"=agGridNo",gridWidth:"=agGridWidth",gutterSize:"=agGutterSize",refreshOnImgLoad:"=agRefreshOnImgLoad",direction:"=agDirection",cssGrid:"=agCssGrid",options:"=agOptions",agId:"@",pageSize:"=agPageSize",performantScroll:"=agPerformantScroll",scrollContainer:"=agScrollContainer",infiniteScroll:"&agInfiniteScroll",infiniteScrollDistance:"=agInfiniteScrollDistance",infiniteScrollDelay:"=agInfiniteScrollDelay"},link:function(h,g,f){function b(){z={},Object.keys(o).forEach(function(e){h[e]!==a?z[e]=h[e]:h["dep_"+e]!==a&&(z[e]=h["dep_"+e])}),z=e.extend({},o,z,h.options||h.dep_options),z.cssGrid&&(z.gutterSize=0),"auto"==z.pageSize&&(z.pageSize=t.offsetWidth>=768?2:3)}function v(e,t){t=t||document.body;var a=0,s=0;if(e.offsetParent)do a+=e.offsetLeft,s+=e.offsetTop,e=e.offsetParent;while(e&&e!=t);return{left:a,top:s}}function y(){var e=i(document.querySelector(z.scrollContainer)),t=e[0];return{height:t.offsetHeight,scrollHeight:t.scrollHeight,startFrom:v(B,t).top,$elm:"body"==z.scrollContainer?F:e}}function x(e,t,a){N.pageInfo=[{from:0}];var s,n,o,i=z.pageSize,l=N.scrollContInfo.height,r=l*i,c=Math.ceil(t/r),d=0;for(d=0;c>d;d++)for(var p=0,u=e.length;u>p;p++)if(s=e[p],n=d?r*d:0,o=r*(d+1),s.bottom<n||s.top>o){if(s.top>o)break}else N.pageInfo[d]||(N.pageInfo[d]={from:p}),N.pageInfo[d].to=p;N.pageInfo=N.pageInfo.map(function(e,t){var a=Math.max(t-1,0),s=Math.min(t+1,N.pageInfo.length-1);return{from:N.pageInfo[a].from,to:N.pageInfo[s].to}})}function w(e){var t,a,s,n;for(s=0,n=L.length;n>s;s++)a=c(L[s]),t=a.data(),t.$scope&&(a.data("_agOldWatchers",t.$scope.$$watchers),t.$scope.$$watchers=[]);for(s=0,n=e.length;n>s;s++)t=c(e[s]).data(),t.$scope&&(t.$scope.$$watchers=t._agOldWatchers||[],t.$scope.$digest())}function C(e){N.lastScrollPosition=e;var t;if(!N.isBusy){var a=0,s=z.pageSize;if(e>N.scrollContInfo.startFrom+N.scrollContInfo.height*s&&(a=Math.floor((e-N.scrollContInfo.startFrom)/(N.scrollContInfo.height*s))),a!=N.lastPage){N.lastPage=a;var n=N.pageInfo[a];n&&(g.children().detach(),t=Array.prototype.slice.call(L,n.from,n.to+1),w(t),g.append(t))}}}function T(){clearTimeout(N.infiniteScrollTimeout),N.isLoading=!1}function k(e){if(!N.isLoading&&h.model.length){var t=N.scrollContInfo.scrollHeight,a=N.scrollContInfo.height;e>=t-a*(1+z.infiniteScrollDistance/100)&&(N.isLoading=!0,h.infiniteScroll(),N.infiniteScrollTimeout=setTimeout(T,z.infiniteScrollDelay))}}function D(){var e=this.scrollTop||this.scrollY;z.performantScroll&&C(e),h.infiniteScroll&&k(e)}function S(){var e,t=B.offsetWidth;if(z.cssGrid){e=i(L[0]).clone(),e.css(r).addClass("ag-no-transition ag-clone"),g.append(e);var a=e[0].offsetWidth;return e.remove(),{no:Math.floor((t+12)/a),width:a}}var s="auto"==z.gridNo?z.gridWidth:Math.floor(t/z.gridNo)-z.gutterSize,n="auto"==z.gridNo?Math.floor((t+z.gutterSize)/(s+z.gutterSize)):z.gridNo,o=(t+z.gutterSize)%(s+z.gutterSize);return s+=Math.floor(o/n),{no:n,width:s}}function $(t,a){var o=a.beforeLoad||e.noop,i=a.onLoad||e.noop,l=a.isLoaded||e.noop,r=a.onFullLoad||e.noop,c=a.ignoreCheck||e.noop,d=t.find("img"),p=[];n(d).forEach(function(e){o(e),s(e)||c(e)?l(e):p.push(u(function(t,a){e.onload=function(){i(e),t()},e.onerror=a}))}),p.length?u.all(p).then(r,r):setTimeout(function(){r()},0)}function V(){H++;var t,a=S(),s=a.width,o=a.no,l=[];for(t=0;o>t;t++)l.push(0);n(L).forEach(function(e){var t=c(e);n(t.find("img")).forEach(function(e){var a=i(e);if(a.hasClass("img-loaded"))return void a.css("height","");t.addClass("ag-no-transition"),t.css("width",s+"px");var n=a.attr("actual-width")||a.attr("data-actual-width"),o=a.attr("actual-height")||a.attr("data-actual-height");n&&o&&a.css("height",o*e.width/n+"px")}),t.removeClass("ag-no-transition")});var d=L.clone();d.addClass("ag-no-transition ag-clone");var p=e.extend({},r);p.width=s+"px",d.css(p),g.append(d),function(e){$(d,{ignoreCheck:function(e){return!c(e).hasClass("img-loaded")},onFullLoad:function(){if(!(H>e)){var t,a,n,i=[],r=[];for(a=0,n=d.length;n>a;a++)i.push(d[a].offsetHeight);for(a=0,n=L.length;n>a;a++){t=c(L[a]);var p=i[a],u=Math.min.apply(Math,l),m=l.indexOf(u);l[m]=u+p+z.gutterSize;var f=m*(s+z.gutterSize),b={position:"absolute",top:u+"px"};"rtol"==z.direction?b.right=f+"px":b.left=f+"px",b.width=s+"px",r.push({top:u,bottom:u+p}),t.css(b).addClass("angular-grid-item")}var v=Math.max.apply(Math,l);g.css("height",v+"px"),d.remove(),(z.performantScroll||h.infiniteScroll)&&(N.scrollContInfo=y()),z.performantScroll&&(N.lastPage=null,x(r,v,o),N.isBusy=!1,C(N.lastScrollPosition||0)),T()}}})}(H)}function _(){var e=!1;n(L).forEach(function(t){var a=i(t),s=a.find("img");s.length&&(a.addClass("img-loading"),$(a,{beforeLoad:function(e){c(e).addClass("img-loading")},isLoaded:function(e){c(e).removeClass("img-loading").addClass("img-loaded")},onLoad:function(t){!e&&z.refreshOnImgLoad&&(e=!0,d(function(){V(),e=!1},100)),c(t).removeClass("img-loading").addClass("img-loaded")},onFullLoad:function(){a.removeClass("img-loading").addClass("img-loaded")}}))})}function M(){return i(n(g.children()).filter(function(e){return!c(e).hasClass("ag-clone")}))}function I(){var e=n(L).filter(function(e){return c(e).hasClass("ng-leave")});return u(function(t){e.length?c(e[0]).one("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(){d(function(){L=M(),t()})}):t()})}function E(){N.isBusy=!0,d(function(){L=M(),I().then(function(){_(),d(function(){V()})})})}function O(){b(),L&&V()}function P(){N.isBusy=!0;var e=B.offsetWidth;j!=e&&(j=e,R&&d.cancel(R),R=d(function(){z.performantScroll&&(g.children().detach(),g.append(L)),V()},100))}var L,R,B=g[0],F=i(p),A=h.agId||h.dep_agId,H=0;g.addClass("angular-grid");var z;["gridWidth","gutterSize","refreshOnImgLoad","direction","options","cssGrid","gridNo","agId"].forEach(function(e){var t=l(e),s="ag-"+l(e);"options"==e&&(t="angular-grid-options"),"agId"==e&&(t="angular-grid-id",s="ag-id"),h["dep_"+e]!==a&&console&&console.warn&&console.warn(t+" is deprecated. Use "+s+" instead in template.")}),b();var N={};setTimeout(function(){N.scrollContInfo=y(),N.scrollContInfo.$elm.on("scroll",D)},0),h.$watch("model",E,!0),h.$watch("options",O,!0),Object.keys(o).forEach(function(e){h[e]!==a&&h.$watch(e,O)});var j=B.offsetWidth;F.on("resize",P),A&&(m[A]={refresh:function(){E()},handleScroll:function(e){z.performantScroll&&C(e),h.infiniteScroll&&k(e)}}),h.$on("$destroy",function(){A&&delete m[A],F.off("resize",P),clearTimeout(N.infiniteScrollTimeout),N.scrollContInfo&&N.scrollContInfo.$elm.off("scroll",D)})}}}]).factory("angularGridInstance",function(){var e={};return e})}(angular,window),function(){function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("pollyvotes").run(e)}(),function(){function e(e,t,a){a.html5Mode(!0),e.state("english",{url:"/",templateUrl:"app/main/main.html",controller:"MainController"}).state("german",{url:"/",templateUrl:"app/main/main.html",controller:"MainDeController"}).state("line",{url:"/lineChart",templateUrl:"app/simplerChart/simplerChart.html",controller:"SimpleChartController"}).state("table",{url:"/historyTable",templateUrl:"app/historyTable/historyTable.html"}).state("map",{url:"/usaMap",templateUrl:"app/usa/simplemap.html"}).state("mainlinechrat",{url:"/linechartwithalloptions",templateUrl:"app/lineChartAlloptions/lineChartalloptions.html",controller:"linechartalloptionsController"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("pollyvotes").config(e)}(),function(){angular.module("pollyvotes").constant("malarkey",malarkey).constant("moment",moment)}(),function(){function e(e,t,a,s){a.localeLocationPattern("https://code.angularjs.org/1.2.20/i18n/angular-locale_{{locale}}.js"),e.debugEnabled(!0),t.translations("en",{TITLE:"U.S. Presidential Election ",titleDiscription:"This site provides a research-based prediction which you can embed on your own website for free",cardTitleOne:"Predicting which party will win. Updated daily",chartTwoHeading:"Predicting the winner in each U.S. State",chartFourHeading:"Election analytics as newsletter",chartFiveHeading:"What is PollyVote? And who is behind this?",greyTextForChart:"Embedding and sharing is free for everyone. The content is dynamic, i.e. numbers and text change in accordance with the data. If you are curious about controversial developments, check out the ",blog:"blog",chartSource:"Source:",embed:"EMBED",latestPrediction:"Latest prediction",updatedDaily:"updated daily",prefixDate:" ",democrats:"Clinton:",republicans:"Trump:",checkBoxText30day:"Last 30 days",checkBoxTextWholeTimeline:"Election timeline",chart2Heading:"Past predictions by PollyVote",chart2Discription:"The PollyVote method predicted the candidate's final vote shares in the last three U.S. presidential elections with little error. The following table shows the predicted and actual results of the two-party popular vote.",year:"Year",winner:"winner",actResult:"ACTUAL RESULT",finalFore:"FINAL FORECAST",oneMonth:"1 MONTH BEFORE ELECTION",threeMonth:"3 MONTHS BEFORE ELECTION",chartThreeHeading:"Election Analytics as Newsletter",chartThreeDiscription:"This website will send out regular newsletters to keep you updated on how the predictions change over time. Are you interested?",subsText:"Subscribe to our mailing list",emailAdd:"email address",Subscribe:"Subscribe",aboutSectionHeading:"What is PollyVote? And who is behind this?",aboutSectionDiscription:"The visualizations are based on PollyVote, a forecasting project founded in 2004 by scholars from different academic fields. The PollyVote draws on hundreds of single forecasts to predict the popular vote on national and state level. PollyVote was successfully applied to the last three U.S. presidential elections, predicting accurately the winning party. For more information with regards to the methodology, please refer to the ",predictionError:"Prediction Error",withDate:"{{date| date}}",embedText:"Embed the following link to show chart in your webpage. Embedding and sharing is free for everyone. The content is dynamic, i.e. numbers and text change in accordance with the data.",twitterTextLineChart:"@PollyVote forecast of the #2016election:",historyChartText:"Accuracy of prediction model PollyVote for U.S. presidential election 2004, 2008 & 2012",website:"official PollyVote website."}),t.translations("de",{TITLE:"US-Präsidentschaftswahl ",titleDiscription:"Auf dieser Seite finden Sie wissenschaftliche Prognosen zur Wahl. Sie können die Charts frei teilen und auf Ihrer Webseite einbinden.",cardTitleOne:"Welche Partei wird gewinnen?",chartTwoHeading:"Prognose des Wahlsiegers je Staat",chartFourHeading:"Wahlanalysen als Newsletter",chartFiveHeading:"Was ist PollyVote? Wer steckt dahinter?",greyTextForChart:"Das Teilen und Einbetten der Charts ist  kostenfrei. Sowohl der Text als auch die Zahlen sind dynamisch, d.h. sie werden auch nach dem Einbetten aktualisiert. Berichte über einzelne Prognosen finden Sie im ",chartSource:"Quelle:",chart2Heading:"Frühere Prognose von PollyVote",embed:"EINBETTEN",latestPrediction:"Aktuelle Prognose",updatedDaily:"wird täglich aktualisiert",prefixDate:"der",democrats:"Clinton:",republicans:"Trump:",checkBoxText30day:"30-Tage-Prognose",checkBoxTextWholeTimeline:"Wahlchronik",chart2Hading:"Frühere Prognosen",chart2Discription:"Bereits zu den vergangenen drei US-Präsidentschaftswahlen wurde PollyVote eingesetzt und konnte die tatsächliche Stimmenverteilung mit einer geringen Fehlermarge vorhersagen. Die folgende Tabelle zeigt die prognostizierten und tatsächlichen Wahlergebnisse.",year:"Jahr",winner:"Sieger",actResult:"Offizielles Ergebnis",finalFore:"Finale Prognose",oneMonth:"1 Monat vor Wahl",threeMonth:"3 Monate vor Wahl",chartThreeHeading:"Wahlanalysen als Newsletter",chartThreeDiscription:"Sobald der Dienst eingerichtet ist, halten wir Sie mit einem automatisierten Newsletter auf den Laufenden. Themen sind die Entwicklungen der PollyVote-Prognose als auch aktuelle Vorhersagen anderer Prognosemethoden. Besteht Interesse? ",subsText:"Hinterlassen Sie Ihre Email-Adresse, sodass wir Sie benachrichtigen können, sobald es los geht. ",emailAdd:"Email-Adresse",Subscribe:"Abonnieren",aboutSectionHeading:"Über uns",aboutSectionDiscription:"Die Visualisierungen basieren auf Prognosen von PollyVote,  ein Projekt, das 2004 von amerikanischen Politikwissenschaftlern und Prognoseexperten ins Leben gerufen wurde. Das Model greift auf hunderte einzelne Vorhersagen zurück, um die Stimmenverteilung in den jeweiligen Bundesstaaten bzw. im Land zu prognostizieren. Bereits in den vergangenen drei US-Präsidentschaftswahlen wurde PollyVote eingesetzt und konnte die siegende Partei bereits Monate vor der Wahl präzise vorhersagen. Mehr Informationen zur Methodik und zum wissenschaftlichen Hintergrund von PollyVote finden Sie auf",predictionError:"Vorhersagefehler",withDate:"{{date|date }}",embedText:"Das Teilen und Einbetten der Charts ist  kostenfrei. Sowohl der Text als auch die Zahlen sind dynamisch, d.h. sie werden auch nach dem Einbetten stetig aktualisiert.",twitterTextLineChart:"@PollyVote Prognose zur #USWahl:",historyChartText:"Frühere Prognosen: 2004, 2008 & 2012 #Präsidentschaftswahlen USA 2016",website:"der offiziellen PollyVote Webseite."}),t.preferredLanguage("en"),t.useSanitizeValueStrategy(null),s.latencyThreshold=100,s.parentSelector="#loading-bar-container",s.spinnerTemplate='<div><span class="fa fa-spinner"> Loading Pollyvote Map....</div>'}e.$inject=["$logProvider","$translateProvider","tmhDynamicLocaleProvider","cfpLoadingBarProvider"],angular.module("pollyvotes").config(e)}(),angular.module("pollyvotes").run(["$templateCache",function(e){e.put("app/historyTable/historyTable.html",'<div class="chartRowOdd"><div class="chartHeader"><h2>Past predictions</h2><div class="col-xs-6 paragraph"><p style="padding-bottom: 2%;">The PollyVote method predicted the candidate\'s final vote shares in the last three U.S. presidential elections with little error. The following table shows the predicted and actual results of the two-party popular vote.</p></div></div><table class="table table-hover"><thead class="tableHeader"><tr><th>YEAR</th><th>WINNER</th><th class="bolderHeader">ACTUAL RESULT</th><th>FINAL FORECAST</th><th>1 MONTH BEFORE ELECTION</th><th>3 MONTHS BEFORE ELECTION</th></tr></thead><tbody><tr class="firstRow"><td class="normalRow">2012</td><td class="normalRow"><img class="image img-responsive" src="assets/images/Obama.jpg"></td><td class="bolderRow">52.0%</td><td class="normalRow">51.3% <span class="diffrenceText">prediction error -0.7</span></td><td class="normalRow">52.1% <span class="diffrenceText">prediction error +0.1</span></td><td class="normalRow">52.4% <span class="diffrenceText">prediction error +0.4</span></td></tr><tr><td class="normalRow">2008</td><td class="normalRow"><img class="image img-responsive" src="assets/images/Obama.jpg"></td><td class="bolderRow">53.7%</td><td class="normalRow">53.9% <span class="diffrenceText rwd-break">prediction error +0.2</span></td><td class="normalRow">52.8% <span class="diffrenceText">prediction error −0.9</span></td><td class="normalRow">52.7% <span class="diffrenceText">prediction error -1</span></td></tr><tr><td class="normalRow">2004</td><td class="normalRow"><img class="image img-responsive" src="assets/images/Bush.jpg"></td><td class="bolderRow">51.2%</td><td class="normalRow">51.5% <span class="diffrenceText">prediction error +0.3</span></td><td class="normalRow">52.1% <span class="diffrenceText">prediction error +0.9</span></td><td class="normalRow">50.3% <span class="diffrenceText">prediction error -0.9</span></td></tr></tbody></table><div class="chartFooter"><div class="pull-right"><a href="http://pollyvote.com/en/about/data/" target="_blank"><span class="source">Source:</span> PollyVote<img class="footerLogo" src="assets/images/chartFooterLogo.png" width="15%"></a></div></div></div>'),e.put("app/lineChart/lineChartSimple.html",'<h2 class="leadText">{{heading}}</h2><div class="col-xs-3 textPanel" id="textChart1"><p class="paragraph">{{lastCandidate}}</p><p class="footerDate">Latest prediction ({{dateWithyear}}; updated daily)</p><div><li style="list-style: none;"><p class="numbers" id="democrates">Democrats: <span class="values">{{democrates}}%</span></p></li><li style="list-style: none;"><p class="numbers" id="republicans">Republicans: <span class="values">{{repulicans}}%</span></p></li></div></div><div class="col-xs-12" id="textChart1Small"><p class="paragraph">{{lastCandidate}}</p><p>Latest prediction ( {{dateWithyear}}; updated daily)</p><div><ul class="list-inline"><li style="list-style: none;"><p class="numbersSmall" id="democrates">Democrats: <span class="values">{{democrates}}%</span></p></li><li style="list-style: none;"><p class="numbersSmall" id="republicans">Republicans: <span class="values">{{repulicans}}%</span></p></li></ul></div></div><div class="checkbox"><label class="checkboxes" id="checkbox_1"><input type="checkbox" ng-model="thirtyDay" ng-change="changeAxis1()"> Last 30 days</label> <label class="checkboxes" id="checkbox_2"><input type="checkbox" ng-model="wholeTimeline" ng-change="changeAxis2()"> Election timeline</label></div><div class="col-xs-9 chartDiv"><div id="lineChart"></div></div><div class="chartFooter"><div class="pull-right"><a href="http://pollyvote.com/en/about/data/" target="_blank"><span class="source">Source:</span> PollyVote<img class="footerLogo" src="assets/images/chartFooterLogo.png" width="15%"></a></div></div>'),e.put("app/lineChartAlloptions/lineChart.html",'<div class="Stage-popup Stage-popup-embed" id="myModal" style="width: 50 ; height: 90 ; padding-left:2.5 ; z-index: 1000;"><div class="popup-body"><a class="popup-close-btn">✕</a><h2 class="embedHeading">EMBED</h2><p>Embed the following link to show chart in your webpage. Embedding and sharing is free for everyone. The content is dynamic, i.e. numbers and text change in accordance with the data.</p><textarea class="embed-code">\n<iframe width="100" height="450px" src="//charts.pollyvote.com/lineChart" frameborder="0" allowfullscreen=""></iframe>\n                </textarea></div></div><div class="col-xs-12 chartbody" style="padding-left:2.5%; padding-bottom: 2%;"><h2 class="chartHeadline" style="font-weight: bold; text-transform: uppercase; font-family: Montserrat, sans-serif;font-size:16px;">POLLYVOTE POPULAR VOTE FORECAST (TWO-PARTY)</h2><p>Last Updated: {{lastdate}} ({{lastupDated}})</p></div><div class="col-xs-9"><div class="pull-left" id="linechartAlloptionsCheckbox1"><label class="label--checkbox" id="checkbox1"><input type="checkbox" ng-model="timeline" ng-change="completeTimeLine(\'timeline\')" class="checkbox"> <span class="checkboxLabelText">Election timeline</span></label> <label class="label--checkbox" id="checkbox4"><input type="checkbox" ng-model="thirtyDay" ng-change="lastThiry(\'thirtyday\')" class="checkbox"> <span class="checkboxLabelText">Last 30 days</span></label></div><div class="pull-right" id="linechartAlloptionsCheckbox2"><label class="label--checkbox" id="checkbox2"><input type="checkbox" ng-model="clintonValues" ng-change="addOnlyClinton(\'clintonValues\')" class="checkbox"> <span class="checkboxLabelText" style="color:#2980b9;">Clinton: {{pollyvoteClintonForcast}}%</span></label> <label class="label--checkbox" id="checkbox3"><input type="checkbox" ng-model="trumpValues" ng-change="addOnlyTrump(\'trumpValues\')" class="checkbox"> <span class="checkboxLabelText" style="color:#e74c3c;">Trump: {{pollyvoteTrumpForcast}}%</span></label></div><highchart id="chart1" config="chartConfig"></highchart></div><table class="col-xs-3" id="lineChartTable" close-others="oneAtATime" style="border-collapse:collapse;"><thead class="lineCharttableHeader"><tr class="lineCharttableRow"><td>Method</td><td>Clinton</td><td>Trump</td></tr></thead><tbody class="lineChartTableBody"><tr class="lineCharttableRow" id="Row1" data-toggle="collapse" data-parent="#lineChartTable" data-target=".subheading1"><td><a rel="noopener" href="//pollyvote.com/en/combining-forecasts/" target="_blank">PollyVote</a></td><td class="linecharttablevalues">{{pollyvoteClintonForcast}}</td><td class="linecharttablevalues">{{pollyvoteTrumpForcast}}</td></tr><tr class="lineCharttableRow" id="Row1" data-toggle="collapse" data-parent="#lineChartTable" data-target=".subheading1"><td><span ng-click="expandedIndex = !expandedIndex" expand="">+</span> <input type="checkbox" ng-model="indexModel" ng-change="indexOnclick()" class="checkbox"> <a rel="noopener" target="_blank" href="//pollyvote.com/en/components/index-models/">Index Models</a></td><td class="linecharttablevalues">{{indexClintonForcast}}</td><td class="linecharttablevalues">{{indexTrumpForcast}}</td></tr><tr class="linecharttablesubheading subheading1" ng-show="expandedIndex"><td class="linechartcomponentHeading"><input type="checkbox" ng-model="keysWhiteHouse" ng-change="keysOnclick()" class="checkbox"> <a rel="noopener" target="_blank" href="//pollyvote.com/en/components/index-models/keys-to-the-white-house/">Keys to the White House</a></td><td class="linecharttablevalues">{{keystowhiteHouseClintonForcast}}</td><td class="linecharttablevalues">{{keystowhiteHousetrumpForcast}}</td></tr><tr class="linecharttablesubheading" ng-show="expandedIndex"><td class="linechartcomponentHeading"><input type="checkbox" ng-model="issuesAndLeaders" ng-change="issuesOnclick()" class="checkbox"> <a rel="noopener" target="_blank" href="//pollyvote.com/en/components/index-models/issues-and-leaders/">Issues and Leaders</a></td><td class="linecharttablevalues">{{IssuesandLeadersClintonForcast}}</td><td class="linecharttablevalues">{{issuesandLeadersTrumpForecast}}</td></tr><tr class="linecharttablesubheading" ng-show="expandedIndex"><td class="linechartcomponentHeading"><input type="checkbox" ng-model="bioIndex" ng-change="bioIndexOnclick()" class="checkbox"> <a rel="noopener" target="_blank" href="//pollyvote.com/en/components/index-models/bio-index">Bio-index</a></td><td class="linecharttablevalues">{{bioindexClintonForecast}}</td><td class="linecharttablevalues">{{bioindexTrumpForecast}}</td></tr><tr class="linecharttablesubheading" ng-show="expandedIndex"><td class="linechartcomponentHeading"><input type="checkbox" ng-model="bigIssue" ng-change="bigIssueOnclick()" class="checkbox"> <a rel="noopener" target="_blank" href="//pollyvote.com/en/components/index-models/big-issue">Big-issue</a></td><td class="linecharttablevalues">{{bigIssueClintonForecast}}</td><td class="linecharttablevalues">{{bigIssueTrumpForecast}}</td></tr><tr class="linecharttablesubheading" ng-show="expandedIndex"><td class="linechartcomponentHeading"><input type="checkbox" ng-model="issueIndex" ng-change="issueIndexOnclick()" class="checkbox"> <a rel="noopener" target="_blank" href="//pollyvote.com/en/components/index-models/issue-index">Issue-index</a></td><td class="linecharttablevalues">{{issueIndexClintonForecast}}</td><td class="linecharttablevalues">{{issueIndexTrumpForecast}}</td></tr><tr class="lineCharttableRow" close-others="oneAtATime"><td><span ng-click="expandedExpert = !expandedExpert" expand="">+</span> <input type="checkbox" ng-model="expert" ng-change="expertOnclick()" class="checkbox"> <a rel="noopener" target="_blank" href="//pollyvote.com/en/components/expert-judgment/">Expert judgment</a></td><td class="linecharttablevalues">{{expertClintonForcast}}</td><td class="linecharttablevalues">{{expertTrumpForcast}}</td></tr><tr class="linecharttablesubheading" ng-if="expandedExpert"><td class="linechartcomponentHeading">PollyVote.com Expert Panel</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><td></td><tr class="lineCharttableRow" close-others="oneAtATime"><td><span ng-click="expandedCitizen = !expandedCitizen" expand="">+</span> <input type="checkbox" ng-model="citizen" ng-change="citizenOnclick()" class="checkbox"> <a rel="noopener" target="_blank" href="//pollyvote.com/en/components/citizen-forecasts/">Citizen forecasts</a></td><td class="linecharttablevalues">{{citizenClintonForcast}}</td><td class="linecharttablevalues">{{citizentrumpForcast}}</td></tr><tr class="linecharttablesubheading" ng-if="expandedCitizen"><td class="linechartcomponentHeading">Quinnipiac University</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedCitizen"><td class="linechartcomponentHeading">Economist / YouGov</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedCitizen"><td class="linechartcomponentHeading">Suffolk University/USA Today</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><td></td><tr class="lineCharttableRow"><td><span ng-click="expandedmarkets = !expandedmarkets" expand="">+</span> <input type="checkbox" ng-model="markets" ng-change="pmOnclick()" class="checkbox"> <a rel="noopner" target="_blank" href="//pollyvote.com/en/components/prediction-markets/">Prediction markets</a></td><td class="linecharttablevalues">{{predictionMarketClintonForcast}}</td><td class="linecharttablevalues">{{predictionMarketTrumpForcast}}</td></tr><tr class="linecharttablesubheading" ng-if="expandedmarkets"><td class="linechartcomponentHeading">IEM (vote-share)</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><td></td><tr class="lineCharttableRow"><td><span ng-click="expandedaggregators = !expandedaggregators" expand="">+</span> <input type="checkbox" ng-model="aggregators" ng-change="intenpollsOnclick()" class="checkbox"> <a rel="noopner" target="_blank" href="//pollyvote.com/en/components/polls/">Poll aggregators</a></td><td class="linecharttablevalues">{{pollaggrClintonForcast}}</td><td class="linecharttablevalues">{{pollaggrTrumpForcast}}</td></tr><tr class="linecharttablesubheading" ng-if="expandedaggregators"><td class="linechartcomponentHeading">TPM Poll Tracker</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><td></td><tr class="linecharttablesubheading" ng-if="expandedaggregators"><td class="linechartcomponentHeading">NYT</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><td></td><tr class="linecharttablesubheading" ng-if="expandedaggregators"><td class="linechartcomponentHeading">HuffPost Pollster</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><td></td><tr class="linecharttablesubheading" ng-if="expandedaggregators"><td class="linechartcomponentHeading">Election Projection</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><td></td><tr class="linecharttablesubheading" ng-if="expandedaggregators"><td class="linechartcomponentHeading">538 (polls-only)</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedaggregators"><td class="linechartcomponentHeading">270 to win</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedaggregators"><td class="linechartcomponentHeading">RealClearPolitics</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedaggregators"><td class="linechartcomponentHeading">PEC</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="lineCharttableRow"><td><span ng-click="expandedmodels = !expandedmodels" expand="">+</span> <input type="checkbox" ng-model="models" ng-change="econoOnclick()" class="checkbox"> <a rel="noopner" target="_blank" href="//pollyvote.com/en/components/econometric-models/">Econometric models</a></td><td class="linecharttablevalues">{{econometricClintonForcast}}</td><td class="linecharttablevalues">{{econometricTrumpForcast}}</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Vox.com</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Time-for-change</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Primary</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Lockerbie</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Lewis-Beck & Tien</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Leading indicators</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Jérôme & Jérôme</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Trial-heat</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Fair</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Electoral-cycle</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">DeSart</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Convention bump</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">538 (polls-plus)</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><tr class="linecharttablesubheading" ng-if="expandedmodels"><td class="linechartcomponentHeading">Fiscal model</td><td class="linecharttablevalues">56</td><td class="linecharttablevalues">68</td></tr><td></td></tbody></table><div class="footer col-xs-12"><div class="pull-left"><a href="http://pollyvote.com/en/about/data/" target="_blank"><img class="footerLogo" src="assets/images/chartFooterLogo.png" width="15%">PollyVote</a><p style="color:grey; font-size: 0.7em; vertical-align: baseline; padding:0;">For more charts head to <a href="http://charts.pollyvote.com/" target="_blank">charts.pollyvote.com</a></p></div><div class="shareButtons pull-right"><a class="btn-embed shareButtonImage" data-toggle="modal" data-target="#myModal">EMBED</a> <a id="twitter" socialshare="" socialshare-provider="twitter" socialshare-text="@PollyVote forecast of the #2016election: Democrats: {{democrates}} Republicans: {{repulicans}}" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com/lineChart"><img class="shareButtonImage" src="assets/images/twitterLogo.png"></a> <a id="facebook" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-media="http://gfx.pollyvote.com/assets/images/facebookShareImage.png" socialshare-text="PollyVote Prediction Chart" socialshare-description="As of {{dateWithyear}}, @PollyVote predicts the Democrats to garner {{democrates}} of the two-party popular vote and and Republicans to garner {{repulicans}} of the two-party popular vote." socialshare-hashtags="PollyVote, US-Elections" socialshare-url="http://charts.pollyvote.com/lineChart" socialshare-caption="Updated daily"><img class="shareButtonImage" src="assets/images/facebookLogo.png"></a></div></div><script>\n  $(".btn-embed").click(function(){\n    $(".Stage-popup").hide();\n     $(".Stage-popup-embed").show();\n    });\n    $(\'.Stage-popup .popup-close-btn\').click(function() { $(\'.Stage-popup\').hide(); });\n</script>'),
e.put("app/lineChartAlloptions/lineChartalloptions.html",'<line data="data"></line>'),e.put("app/main/main.html",'<script src="http://d3js.org/topojson.v1.min.js"></script><script src="http://d3js.org/queue.v1.min.js"></script><div class="container-fluid"><div class="page-header"><div class="pull-right languageButtons"><button id="deButton" ng-click="changeLanguage(\'de\')" translate="DE" ui-sref="german"></button> <button id="enButton" ng-click="changeLanguage(\'en\')" translate="EN" ui-sref="english"></button></div><h1 class="pageHeading col-xs-12">{{ \'TITLE\' | translate }}<span class="numbersHeader">2016</span></h1><p class="headerDiscription">{{ \'titleDiscription\' | translate }}</p></div><div class="chartRowOdd" id="cardsRow"><div class="row"><div class="col-lg-2 col-md-2 col-md-offset-1 col-xs-6 thumb"><a class="thumbnail" href="#" scroll-to="chart-1" easing="easeInQuint" duration="800"><div class="desc"><p class="desc_content image_title">{{ \'cardTitleOne\' | translate }}</p></div><img class="img-responsive" src="assets/images/Image_Mirrored_Graph_3.png"></a></div><div class="col-lg-2 col-md-2 col-xs-6 thumb"><a class="thumbnail" href="#" scroll-to="chart-2" easing="easeInQuint" duration="800"><div class="desc"><p class="desc_content image_title">{{ \'chartTwoHeading\' | translate }}</p></div><img class="img-responsive" src="assets/images/Image_Map_new size.png"></a></div><div class="col-md-2 col-xs-6 thumb"><a class="thumbnail" href="#" scroll-to="chart-3" easing="easeInQuint" duration="800"><div class="desc"><p class="desc_content image_title">{{ \'chart2Heading\' | translate }}</p></div><img class="img-responsive" src="assets/images/Image_PollyVoteinAction_new size.png"></a></div><div class="col-lg-2 col-md-2 col-xs-6 thumb" scroll-to="chart-5" easing="easeInQuint" duration="800"><a class="thumbnail" href="#"><div class="desc"><p class="desc_content image_title">{{ \'chartFourHeading\' | translate }}</p></div><img class="img-responsive" src="assets/images/Image_RobotText.png"></a></div><div class="col-lg-2 col-md-2 col-xs-6 thumb"><a class="thumbnail" href="#" scroll-to="chart-6" easing="easeInQuint" duration="800"><div class="desc"><p class="desc_content image_title">{{ \'chartFiveHeading\' | translate }}</p></div><img class="img-responsive" src="assets/images/Image_About us.png"></a></div></div></div><div class="chartContainer"><div class="shareButtons pull-right" style="padding-right: 3%; padding-top:2%;"><a id="twitter" socialshare="" socialshare-provider="twitter" socialshare-text="{{ \'twitterTextLineChart\' | translate }} #{{ \'democrats\' | translate }} {{democrats}}% #{{ \'republicans\' | translate }} {{republicans}}%" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/twitterLogo.png"></a> <a id="facebook" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-media="http://gfx.pollyvote.com/assets/images/facebookShareImage.png" socialshare-text="{{heading}}" socialshare-description="{{ \'twitterTextLineChart\' | translate }} #{{ \'democrats\' | translate }} {{democrats}}% #{{ \'republicans\' | translate }} {{republicans}}%" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com" socialshare-caption="{{ \'updatedDaily\' | translate }}" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/facebookLogo.png"></a> <a class="btn-embed">{{ \'embed\' | translate }}</a><div class="Stage-popup Stage-popup-embed"><div class="popup-body"><a class="popup-close-btn">✕</a><h2 class="embedHeading">{{ \'embed\' | translate }}</h2><p>{{ \'embedText\' | translate }}</p><textarea class="embed-code">\n<iframe width="100%" height="450px" src="//charts.pollyvote.com/lineChart" frameborder="0" allowfullscreen=""></iframe>\n                </textarea></div></div></div><div class="chartRowEven col-xs-12" id="chart-1" style="padding-top:1%; padding-bottom:1%;"><h2 class="leadText">{{heading}}</h2><div class="col-xs-3 textPanel" id="textChart1"><p class="paragraph">{{lastCandidate}}</p><p class="footerDate">{{ \'latestPrediction\' | translate }} ({{prefixDate| translate }}{{ latestDate | date}}; {{ \'updatedDaily\' | translate }})</p><div><li style="list-style: none;"><p class="numbers" id="democrates">{{ \'democrats\' | translate }} <span class="values">{{democrats}}%</span></p></li><li style="list-style: none;"><p class="numbers" id="republicans">{{ \'republicans\' | translate }} <span class="values">{{republicans}}%</span></p></li></div></div><div class="col-xs-12" id="textChart1Small"><p class="paragraph">{{lastCandidate}}</p><p>Latest prediction ( {{prefixDate| translate }}{{ lastitemDate | date:\'mediumDate\' }}; {{ \'updatedDaily\' | translate }}</p><div><ul class="list-inline"><li style="list-style: none;"><p class="numbersSmall" id="democrates">{{ \'democrats\' | translate }} <span class="values">{{democrats}}%</span></p></li><li style="list-style: none;"><p class="numbersSmall" id="republicans">{{ \'republicans\' | translate }} <span class="values">{{republicans}}%</span></p></li></ul></div></div><div class="checkBoxDiv"><label class="label--checkbox" id="checkbox_1"><input type="checkbox" ng-model="thirtyDay" ng-change="changeAxis1()" class="checkbox"> <span class="checkboxLabelText">{{ \'checkBoxText30day\' | translate }}</span></label> <label class="label--checkbox" id="checkbox_2"><input type="checkbox" ng-model="wholeTimeline" ng-change="changeAxis2()" class="checkbox"> <span class="checkboxLabelText">{{ \'checkBoxTextWholeTimeline\' | translate }}</span></label></div><div class="col-xs-9 chartDiv"><div id="lineChart"></div></div><div class="chartFooter pull-right"><a href="http://pollyvote.com/en/about/data/" target="_blank"><span class="source">{{ \'chartSource\' | translate }}</span> PollyVote <img class="footerLogo" src="assets/images/chartFooterLogo.png" width="15%"></a></div><p style="padding-right: 50%;" class="embeddingText">{{ \'greyTextForChart\' | translate }}<a href="http://pollyvote.com/en/news/" target="_blank">PollyVote Blog</a></p></div><div class="col-xs-12 chartRowOdd" id="chart-2"><globe data="data" type="detaliedMap"></globe></div><div class="col-xs-12 historyTable"><div class="chartRowOdd col-xs-12" id="chart-3"><div class="shareButtons pull-right"><a id="twitter" socialshare="" socialshare-provider="twitter" socialshare-text="{{ \'historyChartText\' | translate }}" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/twitterLogo.png"></a> <a id="facebook" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-media="http://gfx.pollyvote.com/assets/images/historyChartSocialShare.png" socialshare-text="{{ \'historyChartText\' | translate }}" socialshare-hashtags="PollyVote, US-Elections" socialshare-url="http://charts.pollyvote.com" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/facebookLogo.png"></a> <a class="btn-embed02">{{ \'embed\' | translate }}</a><div class="Stage-popup02 Stage-popup-embed02"><div class="popup-body"><a class="popup-close-btn02">✕</a><h2 class="embedHeading">{{ \'embed\' | translate }}</h2><p>{{ \'embedText\' | translate }}</p><textarea class="embed-code02">\n<iframe width="100%" height="550" src="http://charts.pollyvote.com/historyTable" frameborder="0" allowfullscreen=""></iframe>\n                </textarea></div></div></div><div class="chartHeader" id="shareableHistory"><h2>{{ \'chart2Heading\' | translate }}</h2><div class="col-xs-6 paragraph"><p style="padding-bottom: 2%;">{{ \'chart2Discription\' | translate }}</p></div></div><table class="table table-hover"><thead class="tableHeader"><tr><th>{{ \'year\' | translate }}</th><th>{{\'winner\'| translate}}</th><th class="bolderHeader">{{\'actResult\'| translate}}</th><th>{{\'finalFore\'| translate}}</th><th>{{\'oneMonth\'| translate}}</th><th>{{\'threeMonth\'| translate}}</th></tr></thead><tbody><tr class="firstRow"><td class="normalRow">2012</td><td class="normalRow"><img class="image" src="assets/images/Obama.jpg"></td><td class="bolderRow">{{52.0| number:1}}%</td><td class="normalRow">{{51.3| number:1}}% <span class="diffrenceText">{{ \'predictionError\' | translate }} -{{0.7| number:1}}</span></td><td class="normalRow">{{52.1| number:1}}% <span class="diffrenceText">{{ \'predictionError\' | translate }} +{{0.1| number:1}}</span></td><td class="normalRow">{{52.4| number:1}}% <span class="diffrenceText">{{ \'predictionError\' | translate }} +{{0.4| number:1}}</span></td></tr><tr><td class="normalRow">2008</td><td class="normalRow"><img class="image" src="assets/images/Obama.jpg"></td><td class="bolderRow">{{53.7| number:1}}%</td><td class="normalRow">{{53.9| number:1}}% <span class="diffrenceText rwd-break">{{ \'predictionError\' | translate }} +{{0.2| number:1}}</span></td><td class="normalRow">{{52.8| number:1}}% <span class="diffrenceText">{{ \'predictionError\' | translate }} −{{0.9| number:1}}</span></td><td class="normalRow">{{52.7| number:1}}% <span class="diffrenceText">{{ \'predictionError\' | translate }} -{{1.0| number:1}}</span></td></tr><tr><td class="normalRow">2004</td><td class="normalRow"><img class="image" src="assets/images/Bush.jpg"></td><td class="bolderRow">{{51.2| number:1}}%</td><td class="normalRow">{{51.5| number:1}}% <span class="diffrenceText">{{ \'predictionError\' | translate }} +{{ 0.3 | number}}</span></td><td class="normalRow">{{52.1| number:1}}% <span class="diffrenceText">{{ \'predictionError\' | translate }} +{{ 0.9 | number}}</span></td><td class="normalRow">{{50.3| number:1}}% <span class="diffrenceText">{{ \'predictionError\' | translate }} -{{ 0.9 | number}}</span></td></tr></tbody></table><div class="chartFooter"><div class="pull-right"><a href="http://pollyvote.com/en/about/data/" target="_blank"><span class="source">{{ \'chartSource\' | translate }}</span> PollyVote<img class="footerLogo" src="assets/images/chartFooterLogo.png" width="15%"></a></div></div></div></div></div><div class="col-xs-12 chartRowEven" style="border-bottom: 1px solid #ddd;" id="chart-5"><h2>{{ \'chartThreeHeading\' | translate }}</h2><div class="col-xs-6 paragraph"><p>{{ \'chartThreeDiscription\' | translate }}</p><div class="footerInput"><link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css"><style type="text/css">\n  #mc_embed_signup{ clear:left; font:14px Helvetica,Arial,sans-serif; }\n  #mc_embed_signup .button {\n  display: inline-block;\n  margin: 0 5px;\n  border-radius: 6px;\n  font-size: 1em;\n  border: 0;\n  background-color: #2c3e50;\n  color: #fff;\n  font-weight: bold;\n  cursor: pointer;\n  outline: 0;\n  box-shadow: #BDC3C7 2px 2px 0px;}\n\n  #mc_embed_signup .button:hover {\n  background: #0aa8f1;\n}\n#mc_embed_signup .button:active {\n  box-shadow: #BDC3C7 0.5px 0.5px 0px;\n}\n#mc_embed_signup form{\npadding: 0;\n}\n\n  /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.\n     We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */\n}\n}\n</style><div id="mc_embed_signup"><form action="//pollyvote.us13.list-manage.com/subscribe/post?u=d371a3ed15e1c7daa73a2430b&amp;id=c18212f4fe" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><label for="mce-EMAIL">{{ \'subsText\' | translate }}</label> <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="{{ \'emailAdd\' | translate }}" required=""><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d371a3ed15e1c7daa73a2430b_c18212f4fe" tabindex="-1" value=""></div><div class="clear"><input type="submit" value="{{ \'Subscribe\' | translate }}" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div></div></div></div></div><div class="col-xs-12 chartRowOdd" id="chart-6"><div class="col-xs-9 paragraphAbout"><img src="assets/images/pollyVote.png" style="display: block; margin: auto; text-align: center; width: 150px;"><h2 class="aboutSectionHeading">{{ \'aboutSectionHeading\' | translate }}</h2><p class="aboutSectionDiscription">{{ \'aboutSectionDiscription\' | translate }} <a href="http://pollyvote.com/en/" target="_blank">{{ \'website\' | translate }}</a></p></div></div><p class="text-muted pull-right">Copyright: PollyVote & MIT-License</p><ul><li style="display: block; margin: auto; text-align: center; padding-left: 18%;"><a href="#" title="Scroll to top" onclick="$(\'html,body\').animate({scrollTop:0},\'slow\');return false;"><i class="top glyphicon glyphicon-chevron-up"></i></a></li></ul><script>\n  $(".btn-embed").click(function(){\n    $(".Stage-popup").hide();\n     $(".Stage-popup-embed").show();\n    });\n    $(\'.Stage-popup .popup-close-btn\').click(function() { $(\'.Stage-popup\').hide(); });\n    //second chart\n    $(".btn-embed02").click(function(){\n    $(".Stage-popup02").hide();\n     $(".Stage-popup-embed02").show();\n    });\n    $(\'.Stage-popup02 .popup-close-btn02\').click(function() { $(\'.Stage-popup02\').hide(); });\n\n    //remove div\n</script>'),e.put("app/main/mainde.html",'<div class="container-fluid"><div class="page-header"><div class="pull-right languageButtons"><button id="deButton" ng-click="changeLanguage(\'de\')" translate="DE" ui-sref="german"></button> <button id="enButton" ng-click="changeLanguage(\'en\')" translate="EN" ui-sref="english"></button></div><h1 class="pageHeading">{{ \'TITLE\' | translate }}<span class="numbersHeader">2016</span></h1><p class="headerDiscription">{{ \'titleDiscription\' | translate }}</p><div class="col-xs-12"></div></div><div class="chartContainer"><div class="shareButtons pull-right" style="padding-right: 3%; padding-top:2%;"><a id="twitter" socialshare="" socialshare-provider="twitter" socialshare-text="{{ \'twitterTextLineChart\' | translate }} #{{ \'democrats\' | translate }} {{democrates}}% #{{ \'republicans\' | translate }} {{republicans}}%" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/twitterLogo.png"></a> <a id="facebook" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-media="http://gfx.pollyvote.com/assets/images/facebookShareImage.png" socialshare-text="{{heading}}" socialshare-description="{{ \'twitterTextLineChart\' | translate }} #{{ \'democrats\' | translate }} {{democrates}}% #{{ \'republicans\' | translate }} {{republicans}}%" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com" socialshare-caption="{{ \'updatedDaily\' | translate }}" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/facebookLogo.png"></a> <a class="btn-embed">{{ \'embed\' | translate }}</a><div class="Stage-popup Stage-popup-embed"><div class="popup-body"><a class="popup-close-btn">✕</a><h2 class="embedHeading">{{ \'embed\' | translate }}</h2><p>{{ \'embedText\' | translate }}</p><textarea class="embed-code">\n<iframe width="100%" height="450px" src="https://goo.gl/bdIbNb" frameborder="0" allowfullscreen=""></iframe>\n                </textarea></div></div></div><div class="chartRowEven col-xs-12" id="chart-1" style="padding-top:1%; padding-bottom:1%;"><h2 class="leadText">{{heading}}</h2><div class="col-xs-3 textPanel" id="textChart1"><p class="paragraph">{{lastCandidate}}</p><p class="footerDate">{{ \'latestPrediction\' | translate }} ({{ lastitemDate | date:\'longDate\'}}; {{ \'updatedDaily\' | translate }}</p><div><li style="list-style: none;"><p class="numbers" id="democrates">{{ \'democrats\' | translate }} <span class="values">{{democrates| number}}%</span></p></li><li style="list-style: none;"><p class="numbers" id="republicans">{{ \'republicans\' | translate }} <span class="values">{{republicans| number}}%</span></p></li></div></div><div class="col-xs-12" id="textChart1Small"><p class="paragraph">{{lastCandidate}}</p><p>Latest prediction ( {{ lastitemDate | date:\'mediumDate\' }}; {{ \'updatedDaily\' | translate }}</p><div><ul class="list-inline"><li style="list-style: none;"><p class="numbersSmall" id="democrates">{{ \'democrats\' | translate }} <span class="values">{{democrates| number}}%</span></p></li><li style="list-style: none;"><p class="numbersSmall" id="republicans">{{ \'republicans\' | translate }} <span class="values">{{republicans| number}}%</span></p></li></ul></div></div><div class="checkBoxDiv"><label class="label--checkbox" id="checkbox_1"><input type="checkbox" ng-model="thirtyDay" ng-change="changeAxis1()" class="checkbox"> <span class="checkboxLabelText">{{ \'checkBoxText30day\' | translate }}</span></label> <label class="label--checkbox" id="checkbox_2"><input type="checkbox" ng-model="wholeTimeline" ng-change="changeAxis2()" class="checkbox"> <span class="checkboxLabelText">{{ \'checkBoxTextWholeTimeline\' | translate }}</span></label></div><div class="col-xs-9 chartDiv"><div id="lineChart"></div></div><div class="chartFooter pull-right"><a href="http://pollyvote.com/en/about/data/" target="_blank"><span class="source">{{ \'chartSource\' | translate }}</span> PollyVote <img class="footerLogo" src="assets/images/chartFooterLogo.png" width="15%"></a></div><p style="padding-right: 50%;" class="embeddingText">{{ \'greyTextForChart\' | translate }}<a href="http://pollyvote.com/en/news/" target="_blank">PollyVote Blog</a></p></div><div class="col-xs-12 historyTable"><div class="chartRowOdd col-xs-12" id="chart-2"><div class="shareButtons pull-right"><a id="twitter" socialshare="" socialshare-provider="twitter" socialshare-text="{{ \'historyChartText\' | translate }}" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/twitterLogo.png"></a> <a id="facebook" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-media="http://gfx.pollyvote.com/assets/images/historyChartSocialShare.png" socialshare-text="{{ \'historyChartText\' | translate }}" socialshare-hashtags="PollyVote, US-Elections" socialshare-url="http://charts.pollyvote.com" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/facebookLogo.png"></a> <a class="btn-embed02">{{ \'embed\' | translate }}</a><div class="Stage-popup02 Stage-popup-embed02"><div class="popup-body"><a class="popup-close-btn02">✕</a><h2 class="embedHeading">{{ \'embed\' | translate }}</h2><p>{{ \'embedText\' | translate }}</p><textarea class="embed-code02">\n<iframe width="100%" height="550" src="http://charts.pollyvote.com/historyTable" frameborder="0" allowfullscreen=""></iframe>\n                </textarea></div></div></div><div class="chartHeader" id="shareableHistory"><h2>{{ \'chart2Hading\' | translate }}</h2><div class="col-xs-6 paragraph"><p style="padding-bottom: 2%;">{{ \'chart2Discription\' | translate }}</p></div></div><table class="table table-hover"><thead class="tableHeader"><tr><th>{{ \'year\' | translate }}</th><th>{{\'winner\'| translate}}</th><th class="bolderHeader">{{\'actResult\'| translate}}</th><th>{{\'finalFore\'| translate}}</th><th>{{\'oneMonth\'| translate}}</th><th>{{\'threeMonth\'| translate}}</th></tr></thead><tbody><tr class="firstRow"><td class="normalRow">2012</td><td class="normalRow"><img class="image" src="assets/images/Obama.jpg"></td><td class="bolderRow">52,0%</td><td class="normalRow">51,3% <span class="diffrenceText">{{ \'predictionError\' | translate }} -0,7</span></td><td class="normalRow">52,1% <span class="diffrenceText">{{ \'predictionError\' | translate }} +0,1</span></td><td class="normalRow">52,4% <span class="diffrenceText">{{ \'predictionError\' | translate }} +0,4</span></td></tr><tr><td class="normalRow">2008</td><td class="normalRow"><img class="image" src="assets/images/Obama.jpg"></td><td class="bolderRow">53,7%</td><td class="normalRow">53,9% <span class="diffrenceText rwd-break">{{ \'predictionError\' | translate }} +0,2</span></td><td class="normalRow">52,8% <span class="diffrenceText">{{ \'predictionError\' | translate }} −0,9</span></td><td class="normalRow">52,7% <span class="diffrenceText">{{ \'predictionError\' | translate }} -1,0</span></td></tr><tr><td class="normalRow">2004</td><td class="normalRow"><img class="image" src="assets/images/Bush.jpg"></td><td class="bolderRow">51,2%</td><td class="normalRow">51,5% <span class="diffrenceText">{{ \'predictionError\' | translate }} +0,3</span></td><td class="normalRow">52,1% <span class="diffrenceText">{{ \'predictionError\' | translate }} +0,9</span></td><td class="normalRow">50,3% <span class="diffrenceText">{{ \'predictionError\' | translate }} -0,9</span></td></tr></tbody></table><div class="chartFooter"><div class="pull-right"><a href="http://pollyvote.com/en/about/data/" target="_blank"><span class="source">{{ \'chartSource\' | translate }}</span> PollyVote<img class="footerLogo" src="assets/images/chartFooterLogo.png" width="15%"></a></div></div></div></div></div><div class="col-xs-12 chartRowEven" style="border-bottom: 1px solid #ddd;" id="chart-4"><h2>{{ \'chartThreeHeading\' | translate }}</h2><div class="col-xs-6 paragraph"><p>{{ \'chartThreeDiscription\' | translate }}</p><div class="footerInput"><link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css"><style type="text/css">\n  #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }\n  #mc_embed_signup .button {\n  display: inline-block;\n  margin: 0 5px;\n  border-radius: 6px;\n  font-size: 1em;\n  border: 0;\n  background-color: #2c3e50;\n  color:#ecf0f1;\n  cursor: pointer;\n  outline: 0;\n  box-shadow: #BDC3C7 2px 2px 0px;}\n\n  #mc_embed_signup .button:hover {\n  background: #005580;\n}\n#mc_embed_signup .button:active {\n  box-shadow: #BDC3C7 0.5px 0.5px 0px;\n}\n#mc_embed_signup form{\npadding: 0;\n}\n\n  /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.\n     We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */\n}\n}\n</style><div id="mc_embed_signup"><form action="//pollyvote.us13.list-manage.com/subscribe/post?u=d371a3ed15e1c7daa73a2430b&amp;id=c18212f4fe" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><label for="mce-EMAIL">{{ \'subsText\' | translate }}</label> <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="{{ \'emailAdd\' | translate }}" required=""><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d371a3ed15e1c7daa73a2430b_c18212f4fe" tabindex="-1" value=""></div><div class="clear"><input type="submit" value="{{ \'Subscribe\' | translate }}" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div></div></div></div></div><div class="col-xs-12 chartRowOdd" id="chart-5"><div class="col-xs-9 paragraphAbout"><img src="assets/images/pollyVote.png" style="padding-left: 34%; height: 150px;"><h2 class="aboutSectionHeading">{{ \'aboutSectionHeading\' | translate }}</h2><p class="aboutSectionDiscription">{{ \'aboutSectionDiscription\' | translate }} <a href="http://pollyvote.com/en/" target="_blank">{{ \'website\' | translate }}</a></p></div></div><p class="text-muted pull-right">Copyright: PollyVote & MIT-License</p><ul><li style="padding-left:50%;"><a href="#" title="Scroll to top" onclick="$(\'html,body\').animate({scrollTop:0},\'slow\');return false;"><i class="top glyphicon glyphicon-chevron-up"></i></a></li></ul><script>\n  $(".btn-embed").click(function(){\n    $(".Stage-popup").hide();\n     $(".Stage-popup-embed").show();\n    });\n    $(\'.Stage-popup .popup-close-btn\').click(function() { $(\'.Stage-popup\').hide(); });\n    //second chart\n    $(".btn-embed02").click(function(){\n    $(".Stage-popup02").hide();\n     $(".Stage-popup-embed02").show();\n    });\n    $(\'.Stage-popup02 .popup-close-btn02\').click(function() { $(\'.Stage-popup02\').hide(); });\n\n    //remove div\n</script>'),e.put("app/simplerChart/simplerChart.html",'<div class="chartBody" tyle="padding-left:2%; font-size: 1em; font-family: Montserrat, sans-serif;"><h2 class="chartHeadline" style="padding-left:2.5%; font-weight: bold; text-transform: uppercase; font-family: Montserrat, sans-serif;font-size:16px;">PollyVote popular vote forecast (two-party)</h2><div class="col-xs-12"><div class="pull-left" style="padding-left: 2%;"><label class="label--checkbox"><input type="checkbox" ng-model="wholeTimeline" ng-change="changeAxis2()" class="checkbox"> <span style="font-family: Montserrat, sans-serif;">Election timeline</span></label></div><div class="pull-right"><ul class="list-inline" style="font-size: 1em; margin: 0;font-weight: bold; font-family: Montserrat, sans-serif;"><li style="list-style: none;"><p id="democrates" style="color:#2980b9;">Clinton: <span class="values">{{democrates}}%</span></p></li><li style="list-style: none;"><p id="republicans" style="color:#e74c3c;">Trump: <span class="values">{{repulicans}}%</span></p></li></ul></div></div><div class="col-xs-12" id="chartParent"><div class="Stage-popup Stage-popup-embed" id="myModal" style="width: 50%; height: 90%; padding-left:2.5%; z-index: 1000;"><div class="popup-body"><a class="popup-close-btn">✕</a><h2 class="embedHeading">EMBED</h2><p>Embed the following link to show chart in your webpage. Embedding and sharing is free for everyone. The content is dynamic, i.e. numbers and text change in accordance with the data.</p><textarea class="embed-code">\n<iframe width="100%" height="450px" src="//charts.pollyvote.com/lineChart" frameborder="0" allowfullscreen=""></iframe>\n                </textarea></div></div><div id="lineChart"></div></div><div class="col-xs-12"><div class="pull-left" style="padding-left: 2%;"><a href="http://pollyvote.com/en/" target="_blank"><img src="assets/images/PollyVote_header_chart.png"></a></div><div class="shareButtons pull-right"><a class="btn-embed shareButtonImage" data-toggle="modal" data-target="#myModal">EMBED</a> <a id="twitter" socialshare="" socialshare-provider="twitter" socialshare-text="@PollyVote forecast of the #2016election: Democrats: {{democrates}}% Republicans: {{repulicans}}%" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com/lineChart"><img class="shareButtonImage" src="assets/images/twitterLogo.png"></a> <a id="facebook" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-media="http://gfx.pollyvote.com/assets/images/facebookShareImage.png" socialshare-text="PollyVote Prediction Chart" socialshare-description="As of {{dateWithyear}}, @PollyVote predicts the Democrats to garner {{democrates}}% of the two-party popular vote and and Republicans to garner {{repulicans}}% of the two-party popular vote." socialshare-hashtags="PollyVote, US-Elections" socialshare-url="http://charts.pollyvote.com/lineChart" socialshare-caption="Updated daily"><img class="shareButtonImage" src="assets/images/facebookLogo.png"></a></div><div class="col-xs-12" style="color:grey; font-size: 0.7em; vertical-align: baseline; padding-left: 2%;">For more charts head to <a href="http://charts.pollyvote.com/" target="_blank">charts.pollyvote.com</a></div></div><script>\n  $(".btn-embed").click(function(){\n    $(".Stage-popup").hide();\n     $(".Stage-popup-embed").show();\n    });\n    $(\'.Stage-popup .popup-close-btn\').click(function() { $(\'.Stage-popup\').hide(); });\n</script></div>'),e.put("app/usa/simplemap.html",'<script src="http://d3js.org/topojson.v1.min.js"></script><script src="http://d3js.org/queue.v1.min.js"></script><globe data="data" type="simpleUSMap"></globe>'),e.put("app/usa/usMap.html",'<div class="shareButtons pull-right"><a id="twitter" socialshare="" socialshare-provider="twitter" socialshare-text="@PollyVote forecast of the #2016election: #Clinton: {{sumOfDemocratsVote}} #Trump: {{sumOfRepublicanVote}} electoral votes http://charts.pollyvote.com/usaMap" socialshare-hashtags="" socialshare-media="//charts.pollyvote.com/assets/images/usaSocial.png" socialshare-url="http://charts.pollyvote.com/usaMap" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/twitterLogo.png"></a> <a id="facebook" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-media="http://charts.pollyvote.com/assets/images/usaSocial.png" socialshare-text="{{heading}}" socialshare-description="@PollyVote forecast of the #2016election: #Clinton: {{sumOfDemocratsVote}} #Trump: {{sumOfRepublicanVote}} electoral votes http://charts.pollyvote.com/usaMap" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com/usaMap" socialshare-caption="{{ \'updatedDaily\' | translate }}" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/facebookLogo.png"></a> <a class="btn-embed">{{ \'embed\' | translate }}</a><div class="Stage-popup Stage-popup-embed"><div class="popup-body"><a class="popup-close-btn">✕</a><h2 class="embedHeading">{{ \'embed\' | translate }}</h2><p>{{ \'embedText\' | translate }}</p><textarea class="embed-code">\n<iframe width="100%" height="500px" src="//charts.pollyvote.com/usaMap" frameborder="0" allowfullscreen="" scrolling="no"></iframe>\n                </textarea></div></div></div><div class="chartHeader col-xs-3" style="padding:0; margin:0;"><h2 class="leadText">Predicted State Winners</h2><p id="mapDisc" class="paragraph">{{mapdisc}}</p><br><p class="mapDate">Last update: {{dateFormated | date}} ({{lastUpadate}})</p><div style="padding:50% 0 0 0;"><p><span style="font-weight:bold;">Legend:</span> PollyVote builds its prediction on various component methods. The more components agree on a winning party, the higher is PollyVote\'s predictive certainty. The colors in the map reflect this predictive certainty toward one party or the other.</p><div id="legend"></div></div></div><div class="col-xs-9" id="mapWrapper" style="padding-left:2%; padding-top: 2%;"><div class="globe" id="usa"><img src="assets/images/clinton.png" class="pull-left inline demo barImage" style="vertical-align:top"> <span id="clintonText" class="inline barNum pull-left"></span> <img src="assets/images/trump.png" class="pull-right inline rep barImage" style="vertical-align:top"> <span id="trumpText" class="inline barNum pull-right"></span><svg id="bars" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 960 70" preserveaspectratio="xMidYMid meet" class="mainbars"></svg><svg id="mapUSA" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 960 500" preserveaspectratio="xMidYMid meet" class="mapmain"></svg></div></div><div class="chartFooter col-xs-12 inline" style="padding:5% 0 0 0;"><a href="http://pollyvote.com/en/about/data/" target="_blank" class="pull-right"><span class="source">{{ \'chartSource\' | translate }}</span> PollyVote <img class="footerLogo" src="assets/images/chartFooterLogo.png" width="15%"></a><p style="padding-right:50%;" class="embeddingText">{{ \'greyTextForChart\' | translate }}<a href="http://pollyvote.com/en/news/" target="_blank">PollyVote Blog</a></p></div><script>\n  $(".btn-embed").click(function(){\n    $(".Stage-popup").hide();\n     $(".Stage-popup-embed").show();\n    });\n    $(\'.Stage-popup .popup-close-btn\').click(function() { $(\'.Stage-popup\').hide(); });\n</script>'),e.put("app/usa/usMapSimple.html",'<div class="Stage-popup Stage-popup-embed" id="myModal" style="width: 50%; height: 90%; z-index: 1000; vertical-align: middle;"><div class="popup-body"><a class="popup-close-btn">✕</a><h2 class="embedHeading">EMBED</h2><p>Embed the following link to show chart in your webpage. Embedding and sharing is free for everyone. The content is dynamic, i.e. numbers and text change in accordance with the data.</p><textarea class="embed-code">\n<iframe width="100%" height="500px" src="//charts.pollyvote.com/usaMap" frameborder="0" allowfullscreen="" scrolling="no"></iframe>\n                </textarea></div></div><div class="chartHeader col-xs-6" style="padding:0; margin:0;"><h2 class="chartHeadline" style="padding-left:2.5%; font-weight: bold; text-transform: uppercase; font-family: Montserrat, sans-serif; font-size:16px;">PollyVote electoral vote forecast</h2></div><div class="col-xs-12" id="mapWrapper"><div class="col-xs-3" style="padding:0; margin:0;"></div><div class="col-xs-9 dottedbars" style="padding-left: 0.5%"><img src="assets/images/clinton.png" class="pull-left inline demo barImage" style="vertical-align:top"> <span id="clintonText" class="inline barNum pull-left"></span> <img src="assets/images/trump.png" class="pull-right inline rep barImage" style="vertical-align:top"> <span id="trumpText" class="inline barNum pull-right"></span><svg id="barsSimple" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 960 70" preserveaspectratio="xMidYMid meet"></svg></div><div class="col-xs-3" style="padding:2% 0 0 0;"><p class="mapDate">Last update: {{dateFormated | date}} ({{lastUpadate}})</p><p><span style="font-weight:bold;"></span></p><div id="legend"></div></div><div class="globe col-xs-9" style="padding-top: 0;"><div id="loading-bar-container"></div><svg id="mapUSA" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 960 500" preserveaspectratio="xMidYMid meet" class="simpleMap"></svg></div></div><div class="col-xs-12"><div class="pull-left"><a href="http://pollyvote.com/en/" target="_blank"><img src="assets/images/PollyVote_header_chart.png"></a></div><div class="shareButtons pull-right"><a class="btn-embed shareButtonImage" data-toggle="modal" data-target="#myModal">EMBED</a> <a id="twitter" socialshare="" socialshare-provider="twitter" socialshare-text="{{ \'twitterTextLineChart\' | translate }} #{{ \'democrats\' | translate }} {{democrats}}% #{{ \'republicans\' | translate }} {{republicans}}%" socialshare-hashtags="" socialshare-media="//charts.pollyvote.com/assets/images/usaSocial.png" socialshare-url="http://charts.pollyvote.com/usaMap" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/twitterLogo.png"></a> <a id="facebook" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-media="http://charts.pollyvote.com/assets/images/usaSocial.png" socialshare-text="{{heading}}" socialshare-description="{{ \'twitterTextLineChart\' | translate }} #{{ \'democrats\' | translate }} {{democrats}}% #{{ \'republicans\' | translate }} {{republicans}}%" socialshare-hashtags="" socialshare-url="http://charts.pollyvote.com/usaMap" socialshare-caption="{{ \'updatedDaily\' | translate }}" socialshare-trigger="click"><img class="shareButtonImage" src="assets/images/facebookLogo.png"></a></div><div class="col-xs-12" style="color:grey; font-size: 0.7em; vertical-align: baseline; padding:0;">For more charts head to <a href="http://charts.pollyvote.com/" target="_blank">charts.pollyvote.com</a></div></div><script>\n  $(".btn-embed").click(function(){\n    $(".Stage-popup").hide();\n     $(".Stage-popup-embed").show();\n    });\n    $(\'.Stage-popup .popup-close-btn\').click(function() { $(\'.Stage-popup\').hide(); });\n</script>'),
e.put("app/components/lineChart/lineChart.html",'<c3-simple id="chart" config="chart"></c3-simple>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="https://github.com/Swiip/generator-gulp-angular"><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li class="active"><a ng-href="#">Home</a></li><li><a ng-href="#">About</a></li><li><a ng-href="#">Contact</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-6e266e2111.js.map
